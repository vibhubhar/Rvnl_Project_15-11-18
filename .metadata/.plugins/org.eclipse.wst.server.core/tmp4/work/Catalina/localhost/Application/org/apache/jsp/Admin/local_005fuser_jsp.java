/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.86
 * Generated at: 2018-07-31 11:26:45 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.Admin;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.net.HttpURLConnection;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.*;
import javax.naming.*;
import java.sql.*;
import javax.sql.*;
import javax.servlet.*;
import java.util.*;
import javax.servlet.http.*;
import javax.naming.*;
import java.sql.*;
import javax.sql.*;
import java.security.*;
import javax.crypto.*;
import javax.mail.*;
import javax.mail.internet.*;
import java.net.URL.*;
import java.io.*;
import java.net.URLEncoder.*;
import java.net.URLConnection.*;
import java.io.InputStreamReader.*;
import java.io.OutputStreamWriter.*;
import javax.mail.Message;
import javax.mail.MessagingException;
import javax.mail.PasswordAuthentication;
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.internet.*;

public final class local_005fuser_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(4);
    _jspx_dependants.put("/Admin/included/NewHeader.jsp", Long.valueOf(1527967178274L));
    _jspx_dependants.put("/WEB-INF/sessionCheck1.jspf", Long.valueOf(1524567358000L));
    _jspx_dependants.put("/Admin/included/Newfooter.jsp", Long.valueOf(1526628672412L));
    _jspx_dependants.put("/Admin/sessionCheck.jsp", Long.valueOf(1524567356000L));
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fif_0026_005ftest;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.release();
    _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=ISO-8859-1");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 1120256, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

 
int timeout = session.getMaxInactiveInterval();
response.setHeader("Refresh", timeout + "; URL = admn_login.jsp");

      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t");

 String theme3 = (String) pageContext.getAttribute("myTheme", PageContext.SESSION_SCOPE);
if (theme3!=null) {
if (theme3.equalsIgnoreCase("brown") ) { 
      out.write("\r\n");
      out.write("\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"resources/css/ThmBrown.css\">\r\n");
      out.write("\t\t");
 } else if (theme3.equalsIgnoreCase("blue")) { 
      out.write(" \r\n");
      out.write("\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"resources/css/ThmBlue.css\">\r\n");
      out.write("\t\t");
} else if (theme3.equalsIgnoreCase("green")) { 
      out.write(" \r\n");
      out.write("\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"resources/css/ThmGreen.css\">\r\n");
      out.write("\t\t");
} else if (theme3.equalsIgnoreCase("magenta")) { 
      out.write(" \r\n");
      out.write("\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"resources/css/Thmmagenta.css\">\r\n");
      out.write("\t\t");
}
} else {
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"resources/css/ThmBrown.css\">\r\n");
      out.write("\t\t");
} 
      out.write("\r\n");
      out.write("\t\t\r\n");
      out.write("<meta charset=\"ISO-8859-1\">\r\n");
      out.write("<title>PDAMS</title>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script src=\"//code.jquery.com/jquery-1.10.2.js\"></script>\r\n");
      out.write("<style>\r\n");
      out.write(".white-marquee {\r\n");
      out.write("   font-family:   arial, serif, \"Times New Roman\", calibri, Times;\r\n");
      out.write("\tfont-size: 14px;\r\n");
      out.write("\tcolor:  white;\r\n");
      out.write("\t//margin-left:50px;\r\n");
      out.write("\tfont-weight:bold;\r\n");
      out.write("\tpadding:10px;\r\n");
      out.write("\tpadding-bottom:5px;\r\n");
      out.write("}\r\n");
      out.write("</style>\r\n");
      out.write("\r\n");
      out.write("</head>\r\n");
      out.write("<body>   \r\n");

//String mailstatus=(String)session.getAttribute("MailStatus"); 
//String user = (String) session.getAttribute("user_name");
String user_code = (String) session.getAttribute("User_Code");
if (user_code!=null) {} else {user_code="0";}
 String mq=null, mqLaunch=null, mqMaint=null, mqOther=null, mqRly=null, mqRVNL=null;					
 //System.out.println("code="+user_code);	
  Connection conn7 = null;                                                      
     			PreparedStatement ps777=null;
     			ResultSet  rs777=null;
     						//Statement stmt7 = null;
     						try {
     							Context initCtx = new InitialContext();
     							Context envCtx = (Context) initCtx.lookup("java:comp/env");
     							DataSource ds = (DataSource) envCtx.lookup("jdbc/MySQLDB");

     							conn7 = ds.getConnection();
     							String sql35 = "select item, description from xx_maintenance";
     									
    								ps777 = conn7.prepareStatement(sql35);
    								rs777 = ps777.executeQuery();
    								while (rs777.next()) {
    									String item=rs777.getString(1);
    									 String desc=rs777.getString(2);
    									if (item.equalsIgnoreCase("marquee-launch")) {
    										mqLaunch=desc;
    									} else if (item.equalsIgnoreCase("marquee-maint")) {
    										mqMaint=desc;
    									} else if (item.equalsIgnoreCase("marquee-other")) {
    										mqOther=desc;
    									} else if (item.equalsIgnoreCase("marquee-Rly")) {
    										mqRly=desc;
    									} else if (item.equalsIgnoreCase("marquee-RVNL")) {
    										mqRVNL=desc;
    									} 
    								}
    								if (user_code.equalsIgnoreCase("2")) {
    									mq= mqLaunch+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqMaint+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqOther+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqRly;
    								} else if (user_code.equalsIgnoreCase("5")) {
    									mq= mqLaunch+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqMaint+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqOther+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqRVNL;
    								} else {
    								mq= mqLaunch+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqMaint+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqOther;
    								}		 
    				    				//System.out.println("marquee="+mq);
     						}catch(Exception e){
    							
    							e.printStackTrace();
    						} finally {
    						    try { rs777.close(); } catch (Exception e) { /* ignored */ }
    						    try { ps777.close(); } catch (Exception e) { /* ignored */ }
    						    try { conn7.close(); } catch (Exception e) { /* ignored */ }
    						}



      out.write("\r\n");
      out.write("<input type=\"hidden\" id=\"menu1\" value='");
      out.print(session.getAttribute("user_name") );
      out.write("'>\r\n");
      out.write("     \t   <div class=\"header\">\r\n");
      out.write("   \r\n");
      out.write(" \t\t   <table width=\"100%\"><tr><th width=15%>\r\n");
      out.write("    \t\t  <img src=\"images/Rail_logo.png\"  class=\"img-responsive\" style=\"float:left;height:80px;margin-left:10px;\">\r\n");
      out.write("    \t\t  \r\n");
      out.write("   </td>\r\n");
      out.write("   <th width=60%>\r\n");
      out.write("      \t\t <h2 style=\" margin-left:5px;\"><i>Project Documents Approval Monitoring System (PDAMS)</i></h2>\t\r\n");
      out.write("   \r\n");
      out.write("   </th><th width=25%>\r\n");
      out.write("\t  <img src=\"images/RVNL_LOGO.jpg\"  class=\"img-responsive\" style=\"float:left;height:80px;margin-left:10px;\">\r\n");
      out.write(" \t\t  </table>\t\r\n");
      out.write("   </div>\r\n");
      out.write("\t   <div class=\"topmenu\" id=\"menu\">\r\n");
      out.write("\t  <div id=\"menu1\"  style=\"float:left;\"> \r\n");
      out.write("\t  \t\t<ul>\r\n");
      out.write("\t  \t\t\r\n");
      out.write("\t  \t\t<!-- <li><a href=\"user_index.jsp\">Add/Modify Docs</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"user_Project.jsp\">My Projects</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"Reportpiuinitiate.jsp\">My Reports</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"MoreInfo.jsp\">Returned Tasks</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"PullBack.jsp\">PullBack Doc</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"FinalApproval.jsp\">Docs under Approval</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"FinallyApprovedShow.jsp\">Approved Docs</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"ManualMail.jsp\">Reminders</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"User_List.jsp\">User List</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"changepasswordlocaladmin.jsp\">Change Password</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"helpmain.jsp\">Help</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"admn_logout.jsp\">Logout</a></li>  -->\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"NewIndex.jsp\">Home</a></li>\r\n");
      out.write("\t   \t\t\t\t\t\r\n");
      out.write("\t   \t\t\t\t\t</ul>\t \r\n");
      out.write("\t   \t\t\t\t\t</div>  \r\n");
      out.write("\t   \t\t\t\t\t");

	   					if (!mq.equalsIgnoreCase("") && mq!=null) {
	   					
      out.write("\t\r\n");
      out.write("\t   \t<div id=\"menu11\" ></div>\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t   <div id=\"menu2\"  style=\"width:70%; float:left;\">     \t\t\t\t\t\r\n");
      out.write("\t   <marquee><span class=\"white-marquee\" id=\"white-marquee\" style=\"float:right; width:100%\">");
      out.print(mq );
      out.write("</span></marquee>  </div>\r\n");
      out.write("\t  ");

	  	}
	   	
      out.write("\t\r\n");
      out.write("\t   \t\r\n");
      out.write("\t\t\t\t\t\t\t</div> \r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write(" ");
 

int timeout1 = session.getMaxInactiveInterval();
response.setHeader("Refresh", timeout1 + "; URL = admn_login.jsp");

if(((String)session.getAttribute("user_name"))==null)
       {
           
	response.sendRedirect("admn_login.jsp");
           
       }
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" />\r\n");
      out.write("<title>Create User</title>\r\n");
      out.write("<link href=\"resources/css/main.css\" rel=\"stylesheet\" type=\"text/css\">\r\n");
      out.write("<link href=\"resources/bootstrap/css/bootstrap.min.css\" rel=\"stylesheet\"/>\r\n");
      out.write("<link href=\"resources/bootstrap/css/bootstrap.css\" rel=\"stylesheet\"/>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script src=\"resources/JS/Approval_wf230.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\"\r\n");
      out.write("\tsrc=\"https://code.jquery.com/jquery-1.12.4.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\"\r\n");
      out.write("\tsrc=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\"\r\n");
      out.write("\tsrc=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\"></script>\r\n");
      out.write("<script\r\n");
      out.write("\tsrc=\"http://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.9/jquery-ui.js\"\r\n");
      out.write("\ttype=\"text/javascript\"></script>\r\n");
      out.write("<link\r\n");
      out.write("\thref=\"http://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.9/themes/blitzer/jquery-ui.css\"\r\n");
      out.write("\trel=\"stylesheet\" type=\"text/css\" />\r\n");
      out.write("\r\n");
      out.write("<script src=\"resources/JS/backButton.js\"></script>\r\n");
      out.write("<script src=\"resources/JS/validateSysAdmin230.js\"></script>\r\n");
      out.write("<script src=\"resources/JS/PIU_depend230.js\"></script>\r\n");
      out.write("<script src=\"resources/JS/Headquarter.js\"></script>\r\n");
      out.write("<script src=\"resources/JS/Reports230.js\"></script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script language=\"JavaScript1.2\">\r\n");
      out.write("    var testresults\r\n");
      out.write("    function checkemail1(){\r\n");
      out.write("        var str = document.getElementById(\"Email\").value;\r\n");
      out.write("        var filter = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i\r\n");
      out.write("        if (filter.test(str))\r\n");
      out.write("        \t{\r\n");
      out.write("        \t//document.getElementById(\"error4\").style.color=\"green\";\r\n");
      out.write("        \tdocument.getElementById(\"error4\").innerHTML=\"\";\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = false;\r\n");
      out.write("        \t\r\n");
      out.write("        \t testresults = true\r\n");
      out.write("        \t}\r\n");
      out.write("           \r\n");
      out.write("        else {\r\n");
      out.write("        \tdocument.getElementById(\"error4\").style.color=\"RED\";\r\n");
      out.write("        \tdocument.getElementById(\"error4\").innerHTML=\"Please Enter a Valid Email Address\";\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = true;\r\n");
      out.write("            testresults = false\r\n");
      out.write("        }\r\n");
      out.write("        return (testresults)\r\n");
      out.write("    }\r\n");
      out.write("</script>\r\n");
      out.write("<script language=\"JavaScript1.2\">\r\n");
      out.write("    var testresults\r\n");
      out.write("    function checkemail(){\r\n");
      out.write("        var str = document.getElementById(\"email_id\").value;\r\n");
      out.write("        var filter = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i\r\n");
      out.write("        if (filter.test(str))\r\n");
      out.write("        \t{\r\n");
      out.write("        \t//document.getElementById(\"error3\").style.color=\"green\";\r\n");
      out.write("        \tdocument.getElementById(\"error3\").innerHTML=\"\";\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = false;\r\n");
      out.write("        \t\r\n");
      out.write("        \t testresults = true\r\n");
      out.write("        \t}\r\n");
      out.write("           \r\n");
      out.write("        else {\r\n");
      out.write("        \tdocument.getElementById(\"error3\").style.color=\"RED\";\r\n");
      out.write("        \tdocument.getElementById(\"error3\").innerHTML=\"Please Enter a Valid Email Address\";\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = true;\r\n");
      out.write("            testresults = false\r\n");
      out.write("        }\r\n");
      out.write("        return (testresults)\r\n");
      out.write("    }\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\r\n");
      out.write("    function ValidateNo1() {\r\n");
      out.write("        var phoneNo = document.getElementById('Phone_Number');\r\n");
      out.write("        if (phoneNo.value == \"\" || phoneNo.value == null) {\r\n");
      out.write("    \tdocument.getElementById(\"error5\").style.color=\"RED\";\r\n");
      out.write("    \tdocument.getElementById(\"error5\").innerHTML=\"Please Enter Your Mobile Number\";\r\n");
      out.write("            return false;\r\n");
      out.write("        } else{\r\n");
      out.write("       \r\n");
      out.write("        var phoneno = /^\\d{10}$/;  \r\n");
      out.write("        if(phoneNo.value.match(phoneno))  \r\n");
      out.write("        {  //document.getElementById(\"error5\").style.color=\"green\";\r\n");
      out.write("        \tdocument.getElementById(\"error5\").innerHTML=\"\";\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = false;\r\n");
      out.write("            return true;  \r\n");
      out.write("        }  \r\n");
      out.write("        else  \r\n");
      out.write("        {  document.getElementById(\"error5\").style.color=\"red\";\r\n");
      out.write("        \tdocument.getElementById(\"error5\").innerHTML=\"Not a Valid Mobile Number\";\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = true;\r\n");
      out.write("           return false;  \r\n");
      out.write("        }  \r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        alert(\"Success \");\r\n");
      out.write("        return true;\r\n");
      out.write("        }\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\r\n");
      out.write("    function ValidateNo() {\r\n");
      out.write("        var phoneNo = document.getElementById('contact_no');\r\n");
      out.write("        if (phoneNo.value == \"\" || phoneNo.value == null) {\r\n");
      out.write("    \tdocument.getElementById(\"error0\").style.color=\"RED\";\r\n");
      out.write("    \tdocument.getElementById(\"error0\").innerHTML=\"Please Enter Your Mobile Number\";\r\n");
      out.write("            return false;\r\n");
      out.write("        } else{\r\n");
      out.write("       \r\n");
      out.write("        var phoneno = /^\\d{10}$/;  \r\n");
      out.write("        if(phoneNo.value.match(phoneno))  \r\n");
      out.write("        {  //document.getElementById(\"error0\").style.color=\"green\";\r\n");
      out.write("        \tdocument.getElementById(\"error0\").innerHTML=\"\";\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = false;\r\n");
      out.write("            return true;  \r\n");
      out.write("        }  \r\n");
      out.write("        else  \r\n");
      out.write("        {  document.getElementById(\"error0\").style.color=\"red\";\r\n");
      out.write("        \tdocument.getElementById(\"error0\").innerHTML=\"Not a Valid Mobile Number\";\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = true;\r\n");
      out.write("           return false;  \r\n");
      out.write("        }  \r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        alert(\"Success \");\r\n");
      out.write("        return true;\r\n");
      out.write("        }\r\n");
      out.write("    function disableNewOrg(str) {\r\n");
      out.write("    \tif (str != \"none\") {\r\n");
      out.write("    \t\tdocument.getElementById(\"newOrg\").value=\"\";\r\n");
      out.write("    \t\tdocument.getElementById(\"newOrg\").disabled=true;\r\n");
      out.write("    \tdocument.getElementById(\"btn1\").disabled=true;\r\n");
      out.write("    \tdocument.getElementById('err25').innerHTML='';\r\n");
      out.write("    \t} else {\r\n");
      out.write("    \t\tdocument.getElementById(\"newOrg\").value=\"\";\r\n");
      out.write("    \t\tdocument.getElementById(\"newOrg\").disabled=false;\r\n");
      out.write("        \tdocument.getElementById('err25').innerHTML='';\r\n");
      out.write("    \t}\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    function enableAddBtn() {\r\n");
      out.write("    \tvar neworg1=document.getElementById(\"newOrg\")\r\n");
      out.write("    \tif (neworg1!= null) {\r\n");
      out.write("    \t\tdocument.getElementById(\"btn1\").disabled=false;\r\n");
      out.write("    \t} else {\r\n");
      out.write("    \t\tdocument.getElementById(\"btn1\").disabled=true;\r\n");
      out.write("    \t\t}\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    function add_Org_Check() {\r\n");
      out.write("    \tvar xmlhttp;\r\n");
      out.write("    \tvar k1=document.getElementById(\"newOrg\").value;\r\n");
      out.write("    \tvar k = encodeURIComponent(k1);\r\n");
      out.write("    \tvar urls=\"addOrgCheck.jsp?ver=\"+k;\r\n");
      out.write("\r\n");
      out.write("    \tif (window.XMLHttpRequest)\r\n");
      out.write("    \t  {\r\n");
      out.write("    \t  xmlhttp=new XMLHttpRequest();\r\n");
      out.write("    \t  }\r\n");
      out.write("    \telse\r\n");
      out.write("    \t  {\r\n");
      out.write("    \t  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n");
      out.write("    \t  }\r\n");
      out.write("    \txmlhttp.onreadystatechange=function()\r\n");
      out.write("    \t  {\r\n");
      out.write("    \t  if (xmlhttp.readyState==4)\r\n");
      out.write("    \t    {\r\n");
      out.write("    \t        //document.getElementById(\"err\").style.color=\"red\";\r\n");
      out.write("    \t        document.getElementById(\"err25\").innerHTML=xmlhttp.responseText;\r\n");
      out.write("    \t\t\tvar ex=document.getElementById(\"exist\");\r\n");
      out.write("    \t\t\tif(ex!=null){\r\n");
      out.write("    \t\t\t\t//document.getElementById(\"btnclick\").disabled = true;\r\n");
      out.write("    \t\t\t\t\r\n");
      out.write("    \t\t\t\t\r\n");
      out.write("    \t\t\t}else{\r\n");
      out.write("    \t\t\t\tadd_Org();\r\n");
      out.write("    \t\t\t\t//document.getElementById(\"btnclick\").disabled = false;\r\n");
      out.write("    \t\t\t\t\r\n");
      out.write("    \t\t\t}\r\n");
      out.write("\r\n");
      out.write("    \t    }\r\n");
      out.write("    \t  }\r\n");
      out.write("    \txmlhttp.open(\"GET\",urls,true);\r\n");
      out.write("    \txmlhttp.send();\r\n");
      out.write("\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    function add_Org() {\r\n");
      out.write("    \tvar xmlhttp;\r\n");
      out.write("    \t//var k=document.getElementById(\"addorg1\").value;\r\n");
      out.write("    \tvar urls=\"addOrg.jsp\";\r\n");
      out.write("\r\n");
      out.write("    \tif (window.XMLHttpRequest)\r\n");
      out.write("    \t  {\r\n");
      out.write("    \t  xmlhttp=new XMLHttpRequest();\r\n");
      out.write("    \t  }\r\n");
      out.write("    \telse\r\n");
      out.write("    \t  {\r\n");
      out.write("    \t  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n");
      out.write("    \t  }\r\n");
      out.write("    \txmlhttp.onreadystatechange=function()\r\n");
      out.write("    \t  {\r\n");
      out.write("    \t  if (xmlhttp.readyState==4)\r\n");
      out.write("    \t    {\r\n");
      out.write("    \t        document.getElementById(\"Org1\").innerHTML=xmlhttp.responseText;\r\n");
      out.write("    \t document.getElementById(\"Org_name\").focus();\r\n");
      out.write("   \t    }\r\n");
      out.write("    \t  }\r\n");
      out.write("    \txmlhttp.open(\"GET\",urls,true);\r\n");
      out.write("    \txmlhttp.send();\r\n");
      out.write("\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("$(document).ready(function(){\r\n");
      out.write("\t $('input').on('keypress', function (event) {\r\n");
      out.write("\t\t    //var regex = new RegExp(\"^[a-zA-Z0-9]+$\");\r\n");
      out.write("\t\t    var regex = new RegExp(\"['?!<\\\">\\\\\\\\]+$\");\r\n");
      out.write("\t\t    var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);\r\n");
      out.write("\t\t    if (regex.test(key)) {\r\n");
      out.write("\t\t       event.preventDefault();\r\n");
      out.write("\t\t       return false;\r\n");
      out.write("\t\t    }\r\n");
      out.write("\t  });\r\n");
      out.write("\r\n");
      out.write("\t $('#Type').on('change', function() {\r\n");
      out.write("\t      if ( this.value == 'RVNL')\r\n");
      out.write("\t      //............................\r\n");
      out.write("\t      {\r\n");
      out.write("\t    \t  $(\"#pk_details\").show();\r\n");
      out.write("\t        $(\"#business_RVNL\").show();\r\n");
      out.write("\t        $(\"#business_MOR\").hide();\r\n");
      out.write("\t        $(\"#business_Others\").hide();\r\n");
      out.write("\t        \r\n");
      out.write("\t      } else if ( this.value == 'MOR') {\r\n");
      out.write("\t\t$(\"#pk_details\").show();    \r\n");
      out.write("\t\t$(\"#business_MOR\").show();\r\n");
      out.write("\t\t$(\"#business_RVNL\").hide();\r\n");
      out.write("\t    $(\"#business_Others\").hide();\r\n");
      out.write("\t      } else if ( this.value == 'Others') {\r\n");
      out.write("\t    \t\t$(\"#pk_details\").hide();    \r\n");
      out.write("\t    \t\t$(\"#business_MOR\").hide();\r\n");
      out.write("\t    \t\t$(\"#business_RVNL\").hide();\r\n");
      out.write("\t    \t    $(\"#business_Others\").show();\r\n");
      out.write("\t    \t      }\r\n");
      out.write("\t     });\r\n");
      out.write("\t    $(\"input[name$='myRadios']\").click(function() {\r\n");
      out.write("\t        var test = $(this).val();\r\n");
      out.write("\t        $(\"div.desc\").hide();\r\n");
      out.write("\t        $(\"#User_\" + test).show();\r\n");
      out.write("\t    });\r\n");
      out.write("    });\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("    $(function () {\r\n");
      out.write("        $(\"#chkShowPassword\").bind(\"click\", function () {\r\n");
      out.write("            var password = $(\"#password\");\r\n");
      out.write("            if ($(this).is(\":checked\")) {\r\n");
      out.write("                password.after('<input onchange = \"passwordChanged(this);\" id = \"txt_' + password.attr(\"id\") + '\" type = \"text\" value = \"' + password.val() + '\" />');\r\n");
      out.write("                password.hide();\r\n");
      out.write("            } else {\r\n");
      out.write("                password.val(password.next().val());\r\n");
      out.write("                password.next().remove();\r\n");
      out.write("                password.show();\r\n");
      out.write("            }\r\n");
      out.write("        });\r\n");
      out.write("    });\r\n");
      out.write("    function PasswordChanged(txt) {\r\n");
      out.write("        $(txt).prev().val($(txt).val());\r\n");
      out.write("    }\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("    $(function () {\r\n");
      out.write("        $(\"#chkShowPassword1\").bind(\"click\", function () {\r\n");
      out.write("            var password1 = $(\"#Password\");\r\n");
      out.write("            if ($(this).is(\":checked\")) {\r\n");
      out.write("                Password.after('<input onchange = \"passwordChanged1(this);\" id = \"txt_' + Password.attr(\"id\") + '\" type = \"text\" value = \"' + Password.val() + '\" />');\r\n");
      out.write("                Password.hide();\r\n");
      out.write("            } else {\r\n");
      out.write("                Password.val(Password.next().val());\r\n");
      out.write("                Password.next().remove();\r\n");
      out.write("                Password.show();\r\n");
      out.write("            }\r\n");
      out.write("        });\r\n");
      out.write("    });\r\n");
      out.write("    function passwordChanged1(txt) {\r\n");
      out.write("        $(txt).prev().val($(txt).val());\r\n");
      out.write("    }\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("function passwordChange1(passval) {\r\n");
      out.write("   //` $('input[type=\"password\"]').prop('disabled', true);\r\n");
      out.write("\r\n");
      out.write("        if(passval.length >= 5) {\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = false;\r\n");
      out.write("        \t//document.getElementById(\"error6\").style.color=\"GREEN\";\r\n");
      out.write("        \tdocument.getElementById(\"error6\").innerHTML=\"\";\r\n");
      out.write("        } else {\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = true;\r\n");
      out.write("        \tdocument.getElementById(\"error6\").style.color=\"RED\";\r\n");
      out.write("        \tdocument.getElementById(\"error6\").innerHTML=\"Please Provide password of atleast 5 chars.\";\r\n");
      out.write("           \r\n");
      out.write("           //alert(\"Please Provide password of atleast 5 chars.\");\r\n");
      out.write("        }\r\n");
      out.write("    \r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("function passwordChange(passval) {\r\n");
      out.write("   //` $('input[type=\"password\"]').prop('disabled', true);\r\n");
      out.write("\r\n");
      out.write("        if(passval.length >= 5) {\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = false;\r\n");
      out.write("        \t//document.getElementById(\"error1\").style.color=\"GREEN\";\r\n");
      out.write("        \tdocument.getElementById(\"error1\").innerHTML=\"\";\r\n");
      out.write("        } else {\r\n");
      out.write("        \tdocument.getElementById(\"btnclick\").disabled = true;\r\n");
      out.write("        \tdocument.getElementById(\"error1\").style.color=\"RED\";\r\n");
      out.write("        \tdocument.getElementById(\"error1\").innerHTML=\"Please Provide password of atleast 5 chars.\";\r\n");
      out.write("           \r\n");
      out.write("           //alert(\"Please Provide password of atleast 5 chars.\");\r\n");
      out.write("        }\r\n");
      out.write("    \r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("function loadXMLDoc(element,er)\r\n");
      out.write("{\r\n");
      out.write("var xmlhttp;\r\n");
      out.write("var k1=document.getElementById(element).value;\r\n");
      out.write("var k = encodeURIComponent(k1);\r\n");
      out.write("var urls=\"pass.jsp?ver=\"+k;\r\n");
      out.write("\r\n");
      out.write("if (window.XMLHttpRequest)\r\n");
      out.write("  {\r\n");
      out.write("  xmlhttp=new XMLHttpRequest();\r\n");
      out.write("  }\r\n");
      out.write("else\r\n");
      out.write("  {\r\n");
      out.write("  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n");
      out.write("  }\r\n");
      out.write("xmlhttp.onreadystatechange=function()\r\n");
      out.write("  {\r\n");
      out.write("  if (xmlhttp.readyState==4)\r\n");
      out.write("    {\r\n");
      out.write("        //document.getElementById(\"err\").style.color=\"red\";\r\n");
      out.write("        document.getElementById(er).innerHTML=xmlhttp.responseText;\r\n");
      out.write("\t\tvar ex=document.getElementById(\"exist\");\r\n");
      out.write("\t\tif(ex!=null){\r\n");
      out.write("\t\t\tdocument.getElementById(\"btnclick\").disabled = true;\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tdocument.getElementById(\"btnclick\").disabled = false;\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("    }\r\n");
      out.write("  }\r\n");
      out.write("xmlhttp.open(\"GET\",urls,true);\r\n");
      out.write("xmlhttp.send();\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("<style>\r\n");
      out.write("\r\n");
      out.write("div.absolute {\r\n");
      out.write("   \tposition:absolute;\r\n");
      out.write("   \tmargin-top: 5px;\r\n");
      out.write("   \tmargin-left: 17px;\r\n");
      out.write("   \tmargin-bottom: 20px;\r\n");
      out.write(" \tpadding: 15 px;\r\n");
      out.write("    width: auto;\r\n");
      out.write("    height: 30px;\r\n");
      out.write("    border: 3px double #ff4d4d;\r\n");
      out.write("    background-color:#ffe6e6;\r\n");
      out.write("        }\r\n");
      out.write("    table.center {\r\n");
      out.write("    margin-left:auto; \r\n");
      out.write("    margin-right:auto;\r\n");
      out.write("  }\r\n");
      out.write("</style>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("    function refreshAndClose() {\r\n");
      out.write("        window.opener.location.reload(true);\r\n");
      out.write("        window.close();\r\n");
      out.write("    }\r\n");
      out.write("</script>\r\n");
      out.write("</head>\r\n");
      out.write("\r\n");
      out.write("<body>\r\n");
String user = (String)session.getAttribute("user_name");
//System.out.println("UZER:"+user);

      out.write('\r');
      out.write('\n');
      out.write("\r\n");
      out.write(" \r\n");
      out.write(" <div class=\"absolute\" style=\"font-weight:bold\" ><h8>&nbsp;&nbsp;&nbsp;[Users] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h8>\r\n");
      out.write("\r\n");
      out.write("<h8><font style=\"color:red; font-weight:normal\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Welcome&nbsp;</font><font style=\"color:#3333cc; font-weight:normal\">:&nbsp;");
      out.print((String)session.getAttribute("user_name") );
      out.write("&nbsp;&nbsp;&nbsp;</font></h8>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"container\" style=\"margin-top:70px; padding: 20px; width:1500px;\">\r\n");
      out.write("\t<form id=\"loginForm11\" name=\"loginForm11\" method=\"post\">\r\n");
      out.write("\t<INPUT TYPE=\"HIDDEN\" NAME=\"Depatment\">\r\n");
      out.write("\t\r\n");
      out.write("\t<INPUT TYPE=\"HIDDEN\" NAME=\"Project_stage\">\t\t\r\n");
      out.write("\t");
      //  c:if
      org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f0 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
      boolean _jspx_th_c_005fif_005f0_reused = false;
      try {
        _jspx_th_c_005fif_005f0.setPageContext(_jspx_page_context);
        _jspx_th_c_005fif_005f0.setParent(null);
        // /Admin/local_user.jsp(452,1) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
        _jspx_th_c_005fif_005f0.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${param.Project_stage == null}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
        int _jspx_eval_c_005fif_005f0 = _jspx_th_c_005fif_005f0.doStartTag();
        if (_jspx_eval_c_005fif_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("\t\r\n");
            out.write("\t\t<table class=\"table table-hover table-bordered\" style=\"margin: -28px 0px 19px 0px;\" >\r\n");
            out.write("\t\t\t  \r\n");
            out.write("\t\t\t<tr class=\"success\"><td style=\"width: 32.5%;\" ><h3 style=\"text-align:center;\"><font color=\"grey\">Create User</font></h3></td><td><h3 style=\"text-align:center;\">\r\n");
            out.write("\t\t\t<font color=\"grey\">List of Users</font></h3></td></tr>\r\n");
            out.write("\t\t\t<td style=\"display:none;\"><input type = \"radio\" name=\"myRadios\" id=\"User\" value =\"1\" style='margin-left:80px' checked=\"checked\"><b>Create User</b> &nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t\r\n");
            out.write("\t\t\t\t</td>\r\n");
            out.write("\t\t\r\n");
            out.write("\t\t\t\t\t</table>\r\n");
            out.write("\t\t\t<!--  \t<td style=\"background-color: #FEF9E7\" width =\"40%\">\t-->\t\t\t\t\r\n");
            out.write("\t\t\t\t\t");

String dname1="";
String dname="";
Connection conn1=null;
PreparedStatement ps31=null,ps311 = null;
ResultSet rs31=null, rs311 = null;
String userid=null;
int piuid1=0;
ResultSet rs = null, rs1 = null, rs3 = null,rs4=null,rs5=null,rs12=null,rs13=null,rs14=null, rs25=null;
PreparedStatement ps1 = null, ps3 = null,ps4=null,ps5=null,ps12=null,ps13=null,ps14=null, ps25=null;

try {
	Context initCtx = new InitialContext();
	Context envCtx = (Context) initCtx.lookup("java:comp/env");
	DataSource ds = (DataSource) envCtx.lookup("jdbc/MySQLDB");

	conn1 = ds.getConnection();
	
			String sql = "select PIU_ID from xx_user_master where User_name='"+user+"'";
			ps3 = conn1.prepareStatement(sql);
			rs3 = ps3.executeQuery();
			if (rs3.next()) {
				 piuid1 = rs3.getInt("PIU_ID");
			}
}catch(Exception e){
	
	e.printStackTrace();
} finally {
   try { conn1.close(); } catch (Exception e) { /* ignored */ }
}

            out.write("\r\n");
            out.write("\t\t\t\t\t\r\n");
            out.write("\t\t\t\t<div id =\"User_1\" class=\"desc\"  width=\"33%\" style=\"margin: 0px 0px 0px 0px;\">\r\n");
            out.write("\t\t\t\t<table style=\"margin:-20px 0px 0px 0px;\" ><tr class=\"success\"><td style=\"background-color: aliceblue; width: 33%;\" valign=\"top\">\r\n");
            out.write("\t\t\t\t<br>\r\n");
            out.write("\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t<font color=\"red\">*</font>Required Field<br><br>\r\n");
            out.write("\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Type :\r\n");
            out.write("\t\t\t\t\t<font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t<select name=\"Type\" id=\"Type\" style=\"width: 205px;height: 27px;\">\r\n");
            out.write("\t\t\t\t\t\t\t\t\t\t\t<option selected=\"selected\">-- Select Type --</option>\r\n");
            out.write("\t\t\t\t\t\t<option value=\"MOR\">Railways</option>\r\n");
            out.write("\t\t\t\t\t\t<option value=\"RVNL\">RVNL</option>\r\n");
            out.write("\t\t\t\t\t\t<option value=\"Others\">Others</option>\r\n");
            out.write("\t\t\t\t</select><br> <br>\r\n");
            out.write("\t\t\t\t   \r\n");
            out.write("\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User Id:\r\n");
            out.write("\t\t\t\t<font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t<input name=\"user_name\" id =\"user_name\" type=\"text\" class=\"textfield\" maxlength=\"50\" onkeyup=\"loadXMLDoc('user_name','err')\" onCopy=return(false) onDrag=return(false) onDrop=return(false) onPaste=return(false) autocomplete=off\r\n");
            out.write("\t\t\t\t\t width=\"200\" style=\"width: 205px;margin-left: 16px;\"> <span id=\"err\"> </span> <br>\r\n");
            out.write("\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t<font color=\"#99CC00\">\r\n");
            out.write("\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;  User ID should be complete  Designation along with place of posting <br>\r\n");
            out.write("\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp; without any space in between (For example- <b>SrDEN/E/WAT</b>)\r\n");
            out.write("\t\t\t\t   </font><br><br>\r\n");
            out.write("\t\t\t\t   <div style=\"display:none;\" id=\"pk_details\" > \r\n");
            out.write("\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Password:\r\n");
            out.write("\t\t\t\t\t<font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t<input name=\"password\" id=\"password\" type=\"password\" class=\"textfield\" maxlength=\"50\"\r\n");
            out.write("\t\t\t\t\t width=\"200\" style=\"width: 200px\" onkeyup=\"passwordChange(this.value);\"><div id=\"error1\" style=\"text-align: center;\r\n");
            out.write("margin-left: 61px;\"></div> \t\r\n");
            out.write("\t\t\t\t\t <label for=\"chkShowPassword\">\r\n");
            out.write("               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \r\n");
            out.write("               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type=\"checkbox\" id=\"chkShowPassword\" />\r\n");
            out.write("                Show password</label>\t\t\r\n");
            out.write("\t\t\t\t<br><br>\r\n");
            out.write("\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Officer Name :\r\n");
            out.write("\t\t\t\t<font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t<input name=\"officer_name\" id=\"officer_name\" type=\"text\" class=\"textfield\" maxlength=\"50\"\r\n");
            out.write("\t\t\t\t\t width=\"200\" style=\"width: 200px\"> <br> <br>\r\n");
            out.write("\t\t\t\t\t \r\n");
            out.write("\t\t\t\t\t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Email Id :\r\n");
            out.write("\t\t\t\t\t <font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t<input name=\"email_id\" id=\"email_id\" type=\"text\" class=\"textfield\" maxlength=\"50\" onkeyup=\"checkemail()\" onCopy=return(false) onDrag=return(false) onDrop=return(false) onPaste=return(false) autocomplete=off\r\n");
            out.write("\t\t\t\t\t width=\"200\" style=\"width: \t200px\"><div id=\"error3\" style=\"text-align: center;\r\n");
            out.write("margin-left: 61px;\"></div> <br> <br>\r\n");
            out.write("\t\t\t\t\t \r\n");
            out.write("\t\t\t\t\t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Contact No:\r\n");
            out.write("\t\t\t\t\t <font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t<input name=\"contact_no\" id=\"contact_no\" type=\"text\" onkeyup=\"ValidateNo()\" class=\"textfield\" maxlength=\"10\" onCopy=return(false) onDrag=return(false) onDrop=return(false) onPaste=return(false) autocomplete=off\r\n");
            out.write("\t\t\t\t\t width=\"200\" style=\"width: 200px\"> <div id=\"error0\" style=\"text-align: center;\r\n");
            out.write("margin-left: 61px;\"></div><br> <br> </div>\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\t<div style='display:none;' id='business_Others'> <div id=\"role1\" style='display:none;'> &nbsp;\r\n");
            out.write("\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Role:\r\n");
            out.write("\t\t\t\t<font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t  <select name=\"Role\" id=\"Role\" style=\"width: 205px;\" >\r\n");
            out.write("\t\t\t\t\t  <option value=\"Supervisor\" selected=\"selected\">User</option>\r\n");
            out.write("\t\t\t\t</select> </div><br> <br>\r\n");
            out.write("\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Organization:\r\n");
            out.write("\t\t\t\t<font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t<div id=\"Org1\" style='display:inline;' ><select name=\"Org_name\" id=\"Org_name\"  onchange=\"disableNewOrg(this.value);\"\r\n");
            out.write("\t\t\t\t\tstyle=\"width: 205px; margin-top:6px;\">\r\n");
            out.write("\t\t\t\t\t\t<option value=\"none\">-- Select Organization --</option>\r\n");
            out.write("\t\t\t\t\t\t");

						Connection conn = null;
						Statement stmt = null;
						//ResultSet  rs1 = null, rs3 = null,rs4=null,rs5=null,rs12=null,rs13=null,rs14=null, rs25=null;
						//PreparedStatement ps1 = null, ps3 = null,ps4=null,ps5=null,ps12=null,ps13=null,ps14=null, ps25=null;
						try {
							Context initCtx = new InitialContext();
							Context envCtx = (Context) initCtx.lookup("java:comp/env");
							DataSource ds = (DataSource) envCtx.lookup("jdbc/MySQLDB");

							conn = ds.getConnection();

								String sql3 = "select * from xx_org_master order by Org_Name";
								ps25 = conn.prepareStatement(sql3);
								rs25 = ps25.executeQuery();

								while (rs25.next()) {
									String orgname = rs25.getString("Org_Name");
						
            out.write("\r\n");
            out.write("\t\t\t\t\t\t<option value=\"");
            out.print(orgname);
            out.write('"');
            out.write('>');
            out.print(orgname);
            out.write("</option>\r\n");
            out.write("\t\t\t\t\t\t");

							}	
						
            out.write("\r\n");
            out.write("\t\t\t\t  </select></div><br>\r\n");
            out.write("\t\t\t\t  <div id=\"addorg1\" style=\"display:inline;\" >&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t  \t&nbsp;&nbsp;&nbsp;&nbsp;<input name=\"newOrg\" id=\"newOrg\" type=\"text\" class=\"textfield\" maxlength=\"50\"\r\n");
            out.write("\t\t\t\t\t width=\"205\" style=\"width: 200px; margin-left:105px; margin-top:7px;\" onchange=\"enableAddBtn();\">  \r\n");
            out.write("\t\t\t\t\t&nbsp;&nbsp;&nbsp; <button type='button' id='btn1' class='btn btn-primary' onclick=\"add_Org_Check();\" disabled='disabled'>Click to add</button><br>\r\n");
            out.write("\t\t\t\t\t <font color=\"#99CC00\"> &nbsp;&nbsp;Fill up blank field above and press tab to add a new Organisation in the list</font> <br>\r\n");
            out.write("\t\t\t\t\t <span id=\"err25\"> </span>\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t  </div>\r\n");
            out.write("\t\t\t\t  \r\n");
            out.write("\t\t\t\t  <br/> <br/><br/> <br/><br/> <br/><br/> <br/><br/> <br/><br/><br/><br/><br/><br/>\r\n");
            out.write("\t\t\t\t  \t\t\t\t\t\r\n");
            out.write("\t</div>\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t<div style='display:none;' id='business_RVNL'>&nbsp;\r\n");
            out.write("\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Role:\r\n");
            out.write("\t\t\t\t<font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t  <select name=\"Role\" id=\"Role\" style=\"width: 205px\">\r\n");
            out.write("\t\t\t\t\t  <!-- <option selected=\"selected\">-- Select Role --</option> \r\n");
            out.write("\t\t\t\t\t\t<option value=\"System Administrator\">System Administrator</option>-->\r\n");
            out.write("\t\t\t\t\t\t<option value=\"Supervisor\">User</option>\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t<!--  \t<option value=\"Coordinator\">Coordinator</option>  -->\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t</select> <br> <br>\r\n");
            out.write("\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PIU Of RVNL:\r\n");
            out.write("\t\t\t\t<font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t<select name=PIU_name id=\"PIU_name\" \r\n");
            out.write("\t\t\t\t\tstyle=\"width: 205px\">\r\n");
            out.write("\t\t\t\t\t\t<!-- <option value=\"none\">-- Select PIU --</option> -->\r\n");
            out.write("\t\t\t\t\t\t");


								String sql5 = "select * from xx_piu_master where piu_Id="+piuid1+" order by PIU_Name";
								ps3 = conn.prepareStatement(sql5);
								rs3 = ps3.executeQuery();

								while (rs3.next()) {
									String dname11 = rs3.getString("PIU_Name");
						
            out.write("\r\n");
            out.write("\t\t\t\t\t\t<option value=\"");
            out.print(dname11);
            out.write('"');
            out.write('>');
            out.print(dname11);
            out.write("</option>\r\n");
            out.write("\t\t\t\t\t\t");

							}	
						
            out.write("\r\n");
            out.write("\t\t\t\t  </select> <br/> <br/>\r\n");
            out.write("\t\t\t\t  \r\n");
            out.write("\t\t\t\t  \t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Department:\r\n");
            out.write("\t\t\t\t  <font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t\t<select name=Department_RVNL2 id=\"Department_RVNL2\" onchange='showDesgin_cUser(2)'\r\n");
            out.write("\t\t\t\t\tstyle=\"width: 205px\">\r\n");
            out.write("\t\t\t\t\t\t<option value=\"none\">-- Select Department --</option>\r\n");
            out.write("\t\t\t\t\t\t");

						String dep_sql = "select department_name from xx_departments_master where type ='RVNL' order by department_name";
						PreparedStatement depPS = conn.prepareStatement(dep_sql);
						
						
						ResultSet depRS = depPS.executeQuery();
						String ed_dept_id =null;
						while (depRS.next()) {						
						
            out.write("\r\n");
            out.write("\t\t\t\t\t\t<option value =\"");
            out.print(depRS.getString("department_name") );
            out.write('"');
            out.write('>');
            out.print(depRS.getString("department_name") );
            out.write("</option>\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t");
 
						}	
						
            out.write("\r\n");
            out.write("\t\t\t\t  </select> <br /> <br />\r\n");
            out.write("                \r\n");
            out.write("\r\n");
            out.write("                   \r\n");
            out.write("\t\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Designation:\r\n");
            out.write("\t\t\t\t\t<font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t<div id =\"DesgDiv_RVNL2\" style='display: inline;'><select name='designation_RVNL2' id='designation_RVNL2' style=\"width: 205px\">\r\n");
            out.write("\t\t\t\t\t\t<option value=\"none\">-- Select Designation --</option>\t\t\t\t\t\t  \r\n");
            out.write("\t\t\t\t</select> <br /> <br /></div>\r\n");
            out.write("\t\t\t\t  \r\n");
            out.write("\t\t\t\t\t\r\n");
            out.write("\t</div>\r\n");
            out.write("\t\r\n");
            out.write("\t\t\t\t<div style='display:none;' id='business_MOR'>\r\n");
            out.write("\t\t\t\t<!--&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Role:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t    <select name=\"Role\" id=\"Role\" style=\"width: 205px\" onchange=\"showDiv(this)\">\r\n");
            out.write("\t\t\t\t\t  <option selected=\"selected\">-- Select Role --</option>\r\n");
            out.write("\t\t\t\t\t\t<option value=\"Supervisor\">User</option>\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t \t<option value=\"Coordinator\">Coordinator</option>  \r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t</select> <br> <br>-->\r\n");
            out.write("\t\r\n");
            out.write("\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Zone :\r\n");
            out.write("\t\t\t\t\t<font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t<select name='Zone' id =\"Zone\" style=\"width: 205px\"\r\n");
            out.write("\t\t\t\t\tonchange=\"showDivision22(this.value)\">\r\n");
            out.write("\t\t\t\t\t\t<option value=\"none\">-- Select Zone --</option>\r\n");
            out.write("\t\t\t\t\t\t");

						String sql31 = "select distinct Zone_ID from xx_user_zone_mapping where piu_Id="+piuid1;
						ps311 = conn.prepareStatement(sql31);
						rs311 = ps311.executeQuery();
						

						while (rs311.next()) {
							String zone_id = rs311.getString("Zone_ID");
							
							sql31 = "select * from xx_zones_master where Zone_Id="+zone_id+" order by Zone_Name";
							ps31 = conn.prepareStatement(sql31);
							rs31 = ps31.executeQuery();
							

							while (rs31.next()) {
								String Zone=rs31.getString("Zone_Name");
							
            out.write("\r\n");
            out.write("\t\t\t\t\t\t<option value=\"");
            out.print(Zone);
            out.write('"');
            out.write('>');
            out.print(Zone);
            out.write("</option>\r\n");
            out.write("\t\t\t\t\t\t");

							}
						}
								
						
            out.write("\r\n");
            out.write("\t\t\t\t</select> <br /> <br />\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Division :\r\n");
            out.write("\t\t\t\t\t<font color=\"red\">*</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t   <div id ='DivisionsDiv' style='display: inline;' >\r\n");
            out.write("\t\t\t\t\t<select name='division' id='division1' style=\"width: 205px\">\r\n");
            out.write("\t\t\t\t\t\t<option value=\"none\">-- Select Division --</option>\t\t\t\t\t\t\r\n");
            out.write("\t\t\t     \t</select> \r\n");
            out.write("\t\t\t\t   </div><br /> <br />\r\n");
            out.write("\t\t\t\t   \r\n");
            out.write("\t\t\t\t   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Department:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t\t<select name=Department_RVNL1 id=\"Department_RVNL1\" onchange='showDesgin_cUser(1)'\r\n");
            out.write("\t\t\t\t\tstyle=\"width: 205px\">\r\n");
            out.write("\t\t\t\t\t\t<option value=\"none\">-- Select Department --</option>\r\n");
            out.write("\t\t\t\t\t\t");

						String dep_sql1 = "select department_name from xx_departments_master where type ='MOR' Order by department_name";
						PreparedStatement depPS1 = conn.prepareStatement(dep_sql1);
						
						
						ResultSet depRS1 = depPS1.executeQuery();
						String ed_dept_id1 =null;
						while (depRS1.next()) {						
						
            out.write("\r\n");
            out.write("\t\t\t\t\t\t<option value =\"");
            out.print(depRS1.getString("department_name") );
            out.write('"');
            out.write('>');
            out.print(depRS1.getString("department_name") );
            out.write("</option>\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t");
 
						}	
						
            out.write("\r\n");
            out.write("\t\t\t\t  </select> <br /> <br />\r\n");
            out.write("                \r\n");
            out.write("\r\n");
            out.write("                   \r\n");
            out.write("\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Designation:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t\t<div id =\"DesgDiv_RVNL1\" style=\"display:inline;\">\r\n");
            out.write("\t\t\t\t\t<select name='designation_RVNL1' id='designation_RVNL1' style=\"width: 205px\">\r\n");
            out.write("\t\t\t\t\t\t<option value=\"none\">-- Select Designation --</option>\t\t\t\t\t\t  \r\n");
            out.write("\t\t\t\t</select> <br /> <br /></div>\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t</div>\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t</td>\r\n");
            out.write("\t\t\t\t<td><td valign=\"top\">\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t<table style=\"margin: 0px 0px 340px 20px;\">\r\n");
            out.write("\r\n");
            out.write("\r\n");
            out.write(" </font><br /> \r\n");
            out.write("\t\t\r\n");
            out.write("\t\t\t\t\t<tr>\r\n");
            out.write("\t\t\t\t\t<td><font color=\"grey\">\r\n");
            out.write("\t\t\t\t\t&nbsp;&nbsp;&nbsp;<b>Zone :</b>\r\n");
            out.write("\t\t\t\t\t<select name=\"zone\" id=\"zone\" \r\n");
            out.write("\t\t\t\t\tstyle=\"width: 205px;\"  data-plugin=\"selectpicker\" data-live-search=\"true\" onchange=\"showDivisionunderlist(this.value)\">\r\n");
            out.write("\t\t\t\t\t\t<option value=\"\"  selected=\"selected\">-- Select Zone --</option>\r\n");
            out.write("\t\t\t\t\t");

					if(piuid1==27){
						String sql35 = "select * from xx_zones_master";
						ps31 = conn.prepareStatement(sql35);
						rs31 = ps31.executeQuery();
						

						while (rs31.next()) {
							String Zone=rs31.getString("Zone_Name");
							
            out.write("\r\n");
            out.write("\t\t\t\t\t\t\t<option value=\"");
            out.print(Zone);
            out.write('"');
            out.write('>');
            out.print(Zone);
            out.write("</option>\r\n");
            out.write("\t\t\t\t\t\t\t");

						
					} 
					}
						else
						{
					String sql32 = "select distinct Zone_ID from xx_user_zone_mapping where piu_Id="+piuid1;
					ps311 = conn.prepareStatement(sql32);
					rs311 = ps311.executeQuery();
					

					while (rs311.next()) {
						String zone_id = rs311.getString("Zone_ID");
						
						sql31 = "select * from xx_zones_master where Zone_Id="+zone_id +" ORDER BY Zone_Name";
						ps31 = conn.prepareStatement(sql31);
						rs31 = ps31.executeQuery();
						

						while (rs31.next()) {
							String Zone=rs31.getString("Zone_Name");
							
            out.write("\r\n");
            out.write("\t\t\t\t\t\t\t<option value=\"");
            out.print(Zone);
            out.write('"');
            out.write('>');
            out.print(Zone);
            out.write("</option>\r\n");
            out.write("\t\t\t\t\t\t\t");

							
						}
			
					}
					}
					
            out.write("\r\n");
            out.write("\t\t\t\t\t</select>\r\n");
            out.write("\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t</font>\r\n");
            out.write("\t\t\t\t\t\r\n");
            out.write("\t\t\t\t<font color=\"grey\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>PIU Of RVNL:</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t<select name=PIU_name id=\"PIUunderList\" onchange=\"showDeptUnderList(this.value)\"\r\n");
            out.write("\t\t\t\t\tstyle=\"width: 205px\" data-plugin=\"selectpicker\" data-live-search=\"true\">\r\n");
            out.write("\t\t\t\t\t\t<option value=\"\"  selected=\"selected\">-- Select PIU --</option>\r\n");
            out.write("\t\t\t\t\t\t");

						
								String sql33 = "select * from xx_piu_master where piu_Id="+piuid1;
								ps3 = conn.prepareStatement(sql33);
								rs3 = ps3.executeQuery();

								while (rs3.next()) {
									String dname11 = rs3.getString("PIU_Name");
						
            out.write("\r\n");
            out.write("\t\t\t\t\t\t<option value=\"");
            out.print(dname11);
            out.write('"');
            out.write('>');
            out.print(dname11);
            out.write("</option>\r\n");
            out.write("\t\t\t\t\t\t");

							}
							//	conn.close();
								
						
            out.write("\r\n");
            out.write("\t\t\t\t  </select>\r\n");
            out.write("\t\t\t\t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Others :</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t<select name=OrgUnderlist id=\"OrgUnderlist\" data-plugin=\"selectpicker\" data-live-search=\"true\" onchange=\"showOrgUnderList(this.value)\"\r\n");
            out.write("\t\t\t\t\tstyle=\"width: 205px\">\r\n");
            out.write("\t\t\t\t\t\t<option value=\"\" selected=\"selected\">-- Select Organization --</option>\r\n");
            out.write("\t\t\t\t\t\t");

						
								String sql32 = "select * from xx_org_master order by Org_Name";
								ps3 = conn.prepareStatement(sql32);
								rs3 = ps3.executeQuery();

								while (rs3.next()) {
									String orgname = rs3.getString("Org_Name");
						
            out.write("\r\n");
            out.write("\t\t\t\t\t\t<option value=\"");
            out.print(orgname);
            out.write('"');
            out.write('>');
            out.print(orgname);
            out.write("</option>\r\n");
            out.write("\t\t\t\t\t\t");

							}
						}
						catch(Exception e){
							e.printStackTrace();
						}	finally {
						    try { conn.close(); } catch (Exception e) { /* ignored */ }
						}
									
						
            out.write("\r\n");
            out.write("\t\t\t\t  </select> <br /> <br />\r\n");
            out.write("\t\t\t\t  \r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t</td></tr></table> \r\n");
            out.write("\t\t\t\t\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t<div id = 'PIU_Table' style=\"position: absolute;\r\n");
            out.write("    margin: -4px -46px 53px -1px; width: 66%;\"></div>\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t<!-- commenting this data---------------------------------------------------------- -->\r\n");
            out.write("\t\t\t \t\r\n");
            out.write("\t\t\t\t\t");
            out.write("\r\n");
            out.write("\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\r\n");
            out.write("\t\t\t\r\n");
            out.write("\t\t\t\r\n");
            out.write("\t\t\t<!-- commenting of data ends here -->\r\n");
            out.write("\t\t\t\r\n");
            out.write("\t\t\t\r\n");
            out.write("\t\t\t\r\n");
            out.write("\t\t\t\t</td>\r\n");
            out.write("\t\t\t\t</tr>\r\n");
            out.write("\t\t\t\t</table>\r\n");
            out.write("\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t</div>\r\n");
            out.write("\t\t\t\r\n");
            out.write("\t");
            out.write("\t\r\n");
            out.write("\r\n");
            out.write("\t\t\t\r\n");
            out.write("\t\t<!--  \t</form>  -->\r\n");
            out.write("\t\t<table>\t\t\r\n");
            out.write("\t\t\t<tr>\r\n");
            out.write("\t\t\t<td>\r\n");
            out.write("\t\t<br> <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \r\n");
            out.write("\t\t\t\r\n");
            out.write("\t\t\t<INPUT TYPE=\"HIDDEN\" id=\"demo\">\r\n");
            out.write("\t\t\t<button type=\"button\" id=\"btnclick\" class=\"btn btn-primary\" onclick=\"validateUserLocal();\">Submit</button> \r\n");
            out.write("\t\t\t\r\n");
            out.write("\t\t\t\r\n");
            out.write("\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type=\"reset\" class=\"btn btn-primary\" value=\"Cancel\" onClick=\"refreshAndClose()\" />\r\n");
            out.write("\t\t\r\n");
            out.write("\t\t</td>\r\n");
            out.write("\t\r\n");
            out.write("\t\t</tr>\r\n");
            out.write("\t\t\r\n");
            out.write("\t</table>\r\n");
            out.write("\t\t<div id=\"dialogid\" style=\"display: none\"\r\n");
            out.write("\t\t\t\t\t\t\t\talign=\"center\">\r\n");
            out.write("\t\t\t\t\t\t\t\t<br> Please Fill All Data<br>\r\n");
            out.write("\t\t\t\t\t\t\t\t<br>\r\n");
            out.write("\t\t\t\t\t\t\t\t<button id=\"cancle\" class=\"btn btn-primary\"\r\n");
            out.write("\t\t\t\t\t\t\t\t\tonclick=\"jQuery.noConflict();$('#dialogid').dialog('close');\">cancel</button>\r\n");
            out.write("\t\t\t\t\t\t\t</div>\r\n");
            out.write("\t\t\t\t<div id=\"dialogid24\" style=\"display: none\"\r\n");
            out.write("\t\t\t\t\t\t\t\talign=\"center\">\r\n");
            out.write("\t\t\t\t\t\t\t\t<br> Duplicate/incorrect entry.........<br>\r\n");
            out.write("\t\t\t\t\t\t\t\t<br>\r\n");
            out.write("\t\t\t\t\t\t\t\t<button id=\"cancle\" class=\"btn btn-primary\"\r\n");
            out.write("\t\t\t\t\t\t\t\t\tonclick=\"jQuery.noConflict();$('#dialogid24').dialog('close');\">cancel</button>\r\n");
            out.write("\t\t\t\t\t\t\t</div>\r\n");
            out.write("\t\r\n");
            out.write("\t\t");
            int evalDoAfterBody = _jspx_th_c_005fif_005f0.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_c_005fif_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return;
        }
        _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f0);
        _jspx_th_c_005fif_005f0_reused = true;
      } finally {
        org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fif_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fif_005f0_reused);
      }
      out.write('	');
      out.write('\r');
      out.write('\n');
      //  c:if
      org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f1 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
      boolean _jspx_th_c_005fif_005f1_reused = false;
      try {
        _jspx_th_c_005fif_005f1.setPageContext(_jspx_page_context);
        _jspx_th_c_005fif_005f1.setParent(null);
        // /Admin/local_user.jsp(1043,0) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
        _jspx_th_c_005fif_005f1.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${param.Project_stage != null}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
        int _jspx_eval_c_005fif_005f1 = _jspx_th_c_005fif_005f1.doStartTag();
        if (_jspx_eval_c_005fif_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("\r\n");
            out.write("\t\t");
			
		if (request.getParameter("Project_stage") != null) {
			String prof_alert2=(String)session.getAttribute("Profile_Alert");
			String str=request.getParameter("Project_stage");
			
			if(str.equalsIgnoreCase("first")){
			    String User_name = request.getParameter("user_name");
				String Password = request.getParameter("password");
				String password1=Password;
				// code of encrytion start here------------		
				
				
				
				//String plainText = "123456";
	MessageDigest mdAlgorithm = MessageDigest.getInstance("MD5");
	mdAlgorithm.update(Password.getBytes());

	byte[] digest = mdAlgorithm.digest();
	StringBuffer hexString = new StringBuffer();

	for (int i = 0; i < digest.length; i++) {
		Password = Integer.toHexString(0xFF & digest[i]);

	    if (Password.length() < 2) {
	    	Password = "0" + Password;
	    }

	    hexString.append(Password);
	}

	            
	            
					//code for encryption end here
				String Officer_Name = request.getParameter("officer_name");
				String Email_Id = request.getParameter("email_id");
				String Contact_No = request.getParameter("contact_no");
				
				String Role = request.getParameter("Role");
				String Type = request.getParameter("Type");		
				String Zone = request.getParameter("Zone");				
				String Department = request.getParameter("Department_RVNL1");				
			    String Div = request.getParameter("division");
				String msg = Div;
				String Designation = request.getParameter("designation_RVNL1");
				String piu = request.getParameter("PIU_name");
				String Dept_RVNL = request.getParameter("Department_RVNL2");
				String Desg_RVNL = request.getParameter("designation_RVNL2");	
				String radio = request.getParameter("myRadios");
				String Orgname = request.getParameter("Org_name");
				
				String sql3 = "select zone_id from xx_zones_master where zone_name =?";
				System.out.println("XX_RVNL"+piu+"dept:"+Dept_RVNL+"desg:"+Desg_RVNL);			
				Connection conn = null;
				Statement stmt = null;
				ResultSet rs = null, rs1 = null, rs3 = null, rs4 = null, rs5 = null, rs6 = null,rs9=null,rs10=null,rs_RVNL1=null,rs_RVNL2 = null;
				PreparedStatement ps1 = null, ps3 = null, ps4 = null, ps5 = null, ps6 = null,ps9=null,ps10=null,ps_RVNL1=null,ps_RVNL2;				
				String org_id = null, dept_id = null, ed_dept_id=null,desg_id = null, piu_id=null;
				try{
					Context initCtx = new InitialContext();
					Context envCtx = (Context) initCtx.lookup("java:comp/env");
					DataSource ds = (DataSource) envCtx.lookup("jdbc/MySQLDB");

					conn = ds.getConnection();
					
				ps3 = conn.prepareStatement(sql3);
				ps3.setString(1, Zone);
				rs3 = ps3.executeQuery();
				
				String z_id = null;
				while (rs3.next()) {
					z_id = rs3.getString("zone_id");
				}

				String sql4 = "select Division_Id from xx_divisions_map where Division_Name =?";
				ps4 = conn.prepareStatement(sql4);
				ps4.setString(1, msg);
				rs4 = ps4.executeQuery();

				String div_id = null;
				while (rs4.next()) {
					div_id = rs4.getString("Division_Id");
				}
	if (!Type.equalsIgnoreCase("Others")){
	if (Type.equalsIgnoreCase("RVNL")){

				String sql5 = "select Department_Id from xx_departments_master where Type='RVNL' and Department_Name =?";
				ps5 = conn.prepareStatement(sql5);
				ps5.setString(1, Dept_RVNL);
	} else if (Type.equalsIgnoreCase("MOR")) {
		String sql5 = "select Department_Id from xx_departments_master where Type='MOR' and Department_Name =?"; 
		ps5 = conn.prepareStatement(sql5);
		ps5.setString(1, Department);
	}

				rs5 = ps5.executeQuery();
				
				//String dept_id = null,ed_dept_id=null;
				while (rs5.next()) {
					dept_id = rs5.getString("Department_Id");
				}
				
				/*
				ps_RVNL1 = conn.prepareStatement(sql5);
				ps_RVNL1.setString(1, Dept_RVNL);
				rs_RVNL1 = ps_RVNL1.executeQuery();

				String dept_id_RVNL = null;
				while (rs_RVNL1.next()) {
					dept_id_RVNL = rs_RVNL1.getString("department_id");
				}
	*/
	if (Type.equalsIgnoreCase("RVNL")){
					String sql6 = "select Designation_Id from xx_designation_mapping where Type='RVNL' and Department_Id="+dept_id+" and Designation_name =?";
					ps6 = conn.prepareStatement(sql6);
					ps6.setString(1, Desg_RVNL);
	} else if (Type.equalsIgnoreCase("MOR")) {
		String sql6 = "select Designation_Id from xx_designation_mapping where Type='MOR' and Department_Id="+dept_id+" and Designation_name =?";
		ps6 = conn.prepareStatement(sql6);
		ps6.setString(1, Designation);
	}
				rs6 = ps6.executeQuery();

				//String desg_id = null;
				while (rs6.next()) {
					desg_id = rs6.getString("Designation_Id");
				}
				/*
				ps_RVNL2 = conn.prepareStatement(sql6);
				ps_RVNL2.setString(1, Desg_RVNL);
				rs_RVNL2 = ps_RVNL2.executeQuery();

				String desg_id_RVNL = null;
				while (rs_RVNL2.next()) {
					desg_id_RVNL = rs_RVNL2.getString("Designation_Id");
				}
				*/
				
				String sql1 = "select piu_id from xx_piu_master where piu_name =?";
				ps1 = conn.prepareStatement(sql1);
				ps1.setString(1, piu);
				rs1 = ps1.executeQuery();

				//String piu_id = null;
				while (rs1.next()) {
					piu_id = rs1.getString("piu_id");
				}
	} 	else {
		String sql2 = "select Org_Id from xx_org_master where Org_name =?";
		ps9 = conn.prepareStatement(sql2);
		ps9.setString(1, Orgname);
		rs9 = ps9.executeQuery();
		while (rs9.next()) {
			org_id = rs9.getString("Org_Id");
		}
}
	         
            out.write("\r\n");
            out.write("\t\t\t\t<INPUT TYPE=\"HIDDEN\" id=\"zz_id\" value =");
            out.print(z_id );
            out.write("> \r\n");
            out.write("\t\t\t\t<INPUT TYPE=\"HIDDEN\" id=\"dv_id\" value =");
            out.print(div_id );
            out.write(">\r\n");
            out.write("\t\t\t\t<INPUT TYPE=\"HIDDEN\" id=\"dp_id\" value =");
            out.print(dept_id );
            out.write(">\r\n");
            out.write("\t\t\t\t<INPUT TYPE=\"HIDDEN\" id=\"ds_id\" value =");
            out.print(desg_id );
            out.write(">\r\n");
            out.write("\t\t\t\t<INPUT TYPE=\"HIDDEN\" id=\"org_id\" value =");
            out.print(org_id );
            out.write(">\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t");
 			
		String Ans=null;
		if (!Type.equalsIgnoreCase("Others")){
			
				if (User_name == null || Password == null ||Officer_Name == null || Email_Id == null || Contact_No == null ||User_name == ""
						|| Password == "" || Officer_Name =="" || Email_Id =="" || Contact_No == ""
						|| Type == "-- Select Type --" || Zone == "none"
						|| msg == "none" || msg == "-1" || Department == "none"
						|| Designation == "none" || Designation == "-1") {

					Ans="No";
				} else {Ans="Yes";}
		} else {
			if (User_name == null || Type == "-- Select Type --" || Orgname == "none") {
				Ans="No";
			} else {Ans="Yes";}
		}
		if (Ans.equalsIgnoreCase("Yes")) {			
			//	String sql9 = "select User_name from xx_user_master where Zone_ID=? and Division_ID=? and Designation_Id=? and Department_id=?";
	/*
			if(Type.equalsIgnoreCase("MOR")) {
			String sql9 = "select User_name from xx_user_master where Zone_ID="+z_id +" and Division_ID="+div_id +" and Designation_Id="+ desg_id+" and Department_id="+dept_id;	
			    ps9 = conn.prepareStatement(sql9);
		}else {
			System.out.println("XX_RVNL"+piu_id+":"+dept_id_RVNL+":"+desg_id_RVNL);
			String sql9 = "select User_name from xx_user_master where PIU_ID="+piu_id +" and Designation_Id="+ desg_id_RVNL+" and Department_id="+dept_id_RVNL;
		    ps9 = conn.prepareStatement(sql9);
		}
	
				rs9 = ps9.executeQuery();
				
				
				String uname = "";// request.getParameter("Zone_name");

				
					
					try{
						while(rs9.next()){
							uname = rs9.getString(1);	
						
						}
						}catch(Exception e){
						e.printStackTrace();
					}
					
				
	
				if( !uname.equalsIgnoreCase("") )  {
					
					uname=uname+"already exists!!!! you want to overrite";	
					
					String x2 ="";   */
									
            out.write("\t\t<!--\t\r\n");
            out.write("\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t<script type=\"text/javascript\">\r\n");
            out.write("\t\t\t\t\tvar r = confirm(\"Do you want to update user ?\"); \r\n");
            out.write("\t\t\t\t\tvar x;\r\n");
            out.write("\t\t\t\t\tif(r==true) {\r\n");
            out.write("\t\t\t\t\t\tx=\"OK\";\r\n");
            out.write("\t\t\t\t//\talert(\"Right\");\r\n");
            out.write("\t\t\t\t\t document.loginForm11.Project_stage.value = \"second\";\r\n");
            out.write("\t\t\t\t\t\tdocument.getElementById(\"loginForm11\").submit();\t\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t\t}\r\n");
            out.write("\t\t\t\t\telse  {\r\n");
            out.write("\t\t\t\t\t\tx=\"Cancel\";\r\n");
            out.write("\t\t\t\t\t// alert(\"Wrong\");\r\n");
            out.write("\t\t\t\t\t}                        \r\n");
            out.write("\t\t\t\t\t// document.loginForm11.demo.value=x;\r\n");
            out.write("\t\t\t\t\t</script>\t\t\t\r\n");
            out.write("\t\t-->\t\t\t");

		
					
		/*		}else{    */
					ResultSet  rss3 = null;
					PreparedStatement  pss3 = null;
					 
					 String query = "select * from xx_user_master where User_name='"+User_name+"'"; 
	                 
	                 pss3 = conn.prepareStatement(query);
						rss3 = pss3.executeQuery();
	                    if(rss3.next())
	                    {   
	                    	
            out.write("\t\r\n");
            out.write("\t                    \t\t\t\r\n");
            out.write("\t\t\t\t\t\t\t<!-- <script type=\"text/javascript\">\r\n");
            out.write("\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t alert(\"This user already exists!!!\");\t\t\t\t \r\n");
            out.write("\t\t\t\t\t</script> -->\t\t\r\n");
            out.write("\t\t\t\t\t\t\t\t");

	                    }else {
		
					
		if(Type.equalsIgnoreCase("RVNL")) {
					
            out.write("\r\n");
            out.write("\t\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f0 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f0_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f0.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/local_user.jsp(1301,5) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f0.setDataSource("jdbc/MySQLDB");
              // /Admin/local_user.jsp(1301,5) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f0.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f0 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f0 = _jspx_th_sql_005fupdate_005f0.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f0 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f0[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f0);
                  }
                  do {
                    out.write("\r\n");
                    out.write("\t\t\t   INSERT INTO xx_user_master (User_name,Password,Role,Type,Department_id,Designation_id,PIU_Id,Officer_Name,Email_Id,Contact_No,Created_by,Date_created) VALUES ('");
                    out.print(User_name);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Password);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Role);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Type);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(dept_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(desg_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(piu_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Officer_Name);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Email_Id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Contact_No);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(user );
                    out.write("', now());\r\n");
                    out.write("\t\t\t");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f0.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f0 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f0[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f0[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f0.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f0.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f0);
              _jspx_th_sql_005fupdate_005f0_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f0, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f0_reused);
            }
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t\t");

				
					         } else if (Type.equalsIgnoreCase("MOR")) {
					
					        	 if(div_id!=null){
					        	 
            out.write("\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f1 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f1_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f1.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/local_user.jsp(1312,5) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f1.setDataSource("jdbc/MySQLDB");
              // /Admin/local_user.jsp(1312,5) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f1.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f1 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f1 = _jspx_th_sql_005fupdate_005f1.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f1 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f1[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f1);
                  }
                  do {
                    out.write("\r\n");
                    out.write("\t\t\t   INSERT INTO xx_user_master (User_name,Password,Role,Type,Zone_id,Division_id,Department_id,Designation_id,Officer_Name,\r\n");
                    out.write("Email_Id,Contact_No,Created_by,Date_created) VALUES ('");
                    out.print(User_name);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Password);
                    out.write("','Supervisor','");
                    out.print(Type);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(z_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(div_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(dept_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(desg_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Officer_Name );
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Email_Id );
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Contact_No );
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(user );
                    out.write("', now());\r\n");
                    out.write("\t\t\t");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f1.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f1 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f1[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f1[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f1.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f1.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f1);
              _jspx_th_sql_005fupdate_005f1_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f1, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f1_reused);
            }
            out.write("\r\n");
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t\t");

					        	 }else{
					        		 
					        		 
            out.write("\r\n");
            out.write("\t\t\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f2 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f2_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f2.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f2.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/local_user.jsp(1323,10) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f2.setDataSource("jdbc/MySQLDB");
              // /Admin/local_user.jsp(1323,10) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f2.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f2 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f2 = _jspx_th_sql_005fupdate_005f2.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f2 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f2 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f2[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f2);
                  }
                  do {
                    out.write("\r\n");
                    out.write("\t\t\t\t\t\t\t\t   INSERT INTO xx_user_master (User_name,Password,Role,Type,Zone_id,Department_id,Designation_id,Officer_Name,\r\n");
                    out.write("\t\t\t\t\tEmail_Id,Contact_No,Created_by,Date_created) VALUES ('");
                    out.print(User_name);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Password);
                    out.write("','Supervisor','");
                    out.print(Type);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(z_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(dept_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(desg_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Officer_Name );
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Email_Id );
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(Contact_No );
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(user );
                    out.write("', now());\r\n");
                    out.write("\t\t\t\t\t\t\t\t");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f2.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f2 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f2[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f2[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f2.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f2.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f2);
              _jspx_th_sql_005fupdate_005f2_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f2, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f2_reused);
            }
            out.write("\r\n");
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t\t\t\t\t\t\t");

					        		 
					        		 
					        		 
					        	 }
					                } else if (Type.equalsIgnoreCase("Others")) {
					                	 
						        		 
            out.write("\r\n");
            out.write("\t\t\t\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\t\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f3 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f3_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f3.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f3.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/local_user.jsp(1338,11) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f3.setDataSource("jdbc/MySQLDB");
              // /Admin/local_user.jsp(1338,11) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f3.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f3 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f3 = _jspx_th_sql_005fupdate_005f3.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f3 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f3 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f3[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f3);
                  }
                  do {
                    out.write("\r\n");
                    out.write("\t\t\t\t\t\t\t\t\t   INSERT INTO xx_user_master (User_name,Role,Type,Org_id,Created_by,Date_created) VALUES ('");
                    out.print(User_name);
                    out.write("','Supervisor','");
                    out.print(Type);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(org_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(user );
                    out.write("', now());\r\n");
                    out.write("\t\t\t\t\t\t\t\t\t");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f3.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f3 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f3[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f3.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f3[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f3.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f3.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f3);
              _jspx_th_sql_005fupdate_005f3_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f3, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f3_reused);
            }
            out.write("\r\n");
            out.write("\t\t\t\t\t\t\t\t\t\t\t");

 	
					                }
		if (!Type.equalsIgnoreCase("Others")) {
			if (prof_alert2.equalsIgnoreCase("On")) {
			// Mail code starts from here
//System.out.println("today:"+Date1+"approval date:"+date);			
			 String result;
			    // Get recipient's email-ID, message & subject-line from index.html page
			    StringBuffer url =    request.getRequestURL();
				String cc1="";
				String pageName1 = url.substring(0, url.lastIndexOf("/"))+"/admn_login.jsp";
			    final String to = Email_Id;
			    final String subject = "RVNL DOCUMENT PORTAL - Login details";
			    final String messg = "<div style='font-family:Georgia; font-size:16px; text-align:justify; line-height:150%;'>To <BR> <b>"+User_name.toUpperCase()+"</b> <br><br> You have been added as a User on the portal. Your login details are as under;"
			     +"<br><BR> User Id:  "+User_name+" <BR> Password:  "+password1+"<BR> Login webpage: <a href=\""+ pageName1+"\">"+pageName1+"</a><br><br>You are advised to change your password. <br><br><br><span style='color:brown;  font-size:20px; font-style:italic;'><b> RVNL Document Portal</b></span><br><br><span style='color:gray;  font-size:10px; font-style:italic;'>Note: This is a system generated email. Don't reply to system email address i.e. indiarvnl@gmail.com.</span></div>";
			    						
			    // Sender's email ID and password needs to be mentioned
			    final String from = "vibhardwaj55@gmail.com";
			    final String pass = "8899403746";
			    
			    final String cc = cc1;
			    // Defining the gmail host
			    String host = "smtp.gmail.com";
			 
			    // Creating Properties object
			    Properties props = new Properties();
			 
			    // Defining properties
			   
			    props.put("mail.smtp.starttls.enable", "true");
			    props.put("mail.smtp.host", host);
			    props.put("mail.smtp.user", from);
			    props.put("mail.smtp.password", pass);
			    props.put("mail.smtp.port", "587");
			    props.put("mail.smtp.auth", "true");
			 
			    // Authorized the Session object.
			    Session mailSession = Session.getInstance(props, new javax.mail.Authenticator() {
			        @Override
			        protected PasswordAuthentication getPasswordAuthentication() {
			            return new PasswordAuthentication(from, pass);
			        }
			    });
			 
			    try {
			        // Create a default MimeMessage object.
			        MimeMessage message = new MimeMessage(mailSession);
			        // Set From: header field of the header.
			        message.setFrom(new InternetAddress(from));
			        // Set To: header field of the header.
			        message.addRecipient(Message.RecipientType.TO,
			                new InternetAddress(to));
			        message.setRecipients(Message.RecipientType.CC, cc);
			        // Set Subject: header field
			        message.setSubject(subject);
			        // Now set the actual message
			        message.setText(messg);
			        // Send message
			        Transport.send(message);
			        result = "Your mail sent successfully....";
			        System.out.println("Email sent successfully");
			    } catch (MessagingException mex) {
			        mex.printStackTrace();
			        result = "Error: unable to send mail....";
			    }
			 
			    // mail code ends here
			     //SMS code 

try {
//Construct data
//contact number supervisor------contact_No_sup
//contact number sender ------------- supcontact

String usersms = "username=" + "indiarvnl@gmail.com";
String hash = "&hash=" + "60b97ac840106a43c5a0e44fb778276d90330ece5e2da9ad534868c03137636d";
//String apiKey = "apikey=" + "noVebn4XbP0-UFyeK1rRwkvCNdDw5ZXfVqrSNPndk2";
String message = "&message=" + "Please check your email ("+Email_Id+") for login details.\n\nRVNL Document Portal";
String sender = "&sender=" + "RPDAMS";
String numbers = "&numbers=" + ""+Contact_No+"";

//Send data
HttpURLConnection connsms = (HttpURLConnection) new java.net.URL("http://api.textlocal.in/send in/?").openConnection();

String data = usersms + hash + numbers + message + sender;
//String data = apiKey + numbers + message + sender;
connsms.setDoOutput(true);
connsms.setRequestMethod("POST");
connsms.setRequestProperty("Content-Length", Integer.toString(data.length()));
connsms.getOutputStream().write(data.getBytes("UTF-8"));
final BufferedReader rd = new BufferedReader(new InputStreamReader(connsms.getInputStream()));
final StringBuffer stringBuffer = new StringBuffer();
String line;
while ((line = rd.readLine()) != null) {
stringBuffer.append(line);
}
rd.close();
System.out.println("Message sent successfully");
//return stringBuffer.toString();
} catch (Exception e) {
System.out.println("Error SMS "+e);
//return "Error "+e;
}					   
//sms code ends here
		}
		}

				
            out.write("\r\n");
            out.write("\t\t\t\t<div class=\"alert alert-success\" align=\"center\"><strong>Success!</strong> User created successfully. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n");
            out.write("\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" onclick=\"location.href='local_user.jsp'\">Want to create more Users</button></div>\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t");
 	
				   
	                    rss3.close();
	                    pss3.close();
				}
	                    
			
			}
							}catch(Exception e){
								
								e.printStackTrace();
							}
							 finally {

									try {
										if (rs != null)
											rs.close();
									} catch (Exception e) {
									}
							/*	
									try {
										if (rs1 != null)
											rs1.close();
									} catch (Exception e) {
									}
								*/	

									try {
										if (rs3 != null)
											rs3.close();
									} catch (Exception e) {
									}
									
									try {
										if (rs4 != null)
											rs4.close();
									} catch (Exception e) {
									}
									
									try {
										if (rs5 != null)
											rs5.close();
									} catch (Exception e) {
									}
									
									try {
										if (rs6 != null)
											rs6.close();
									} catch (Exception e) {
									}
									

									try {
										if (stmt != null)
											stmt.close();
									} catch (Exception e) {
									}
									
/*
									try {
										if (ps1 != null)
											ps1.close();
									} catch (Exception e) {
									}
	*/								

									try {
										if (ps3 != null)
											ps3.close();
									} catch (Exception e) {
									}
									
									try {
										if (ps4 != null)
											ps4.close();
									} catch (Exception e) {
									}
									
									try {
										if (ps5 != null)
											ps5.close();
									} catch (Exception e) {
									}
									
									try {
										if (ps6 != null)
											ps6.close();
									} catch (Exception e) {
									}
									try {
										if (conn != null)
											conn.close();
									} catch (Exception e) {
									}

								}
			
				
		/*	} else if(str.equalsIgnoreCase("second")){
				Connection conn = null;
				Statement stmt = null;
				ResultSet rs = null;
				PreparedStatement ps = null,ps1=null;
				
				try{
					Context initCtx = new InitialContext();
					Context envCtx = (Context) initCtx.lookup("java:comp/env");
					DataSource ds = (DataSource) envCtx.lookup("jdbc/MySQLDB");

					conn = ds.getConnection();
					
					
					String uname = (String)pageContext.getAttribute("UserName",PageContext.SESSION_SCOPE);  
					String pwd = (String)pageContext.getAttribute("Password",PageContext.SESSION_SCOPE);  
					String officer = (String)pageContext.getAttribute("Officer_Name",PageContext.SESSION_SCOPE);  
					String email = (String)pageContext.getAttribute("Email_Id",PageContext.SESSION_SCOPE);  
					String cont = (String)pageContext.getAttribute("Contact_No",PageContext.SESSION_SCOPE);  
					String role = (String)pageContext.getAttribute("Role",PageContext.SESSION_SCOPE);  
					String type = (String)pageContext.getAttribute("Type",PageContext.SESSION_SCOPE);  
					String zone_id = (String)pageContext.getAttribute("ZoneID",PageContext.SESSION_SCOPE);  
					String division_id = (String)pageContext.getAttribute("DivisionID",PageContext.SESSION_SCOPE);  
					String dept_id = (String)pageContext.getAttribute("DepartmentID",PageContext.SESSION_SCOPE);  
					String desg_id = (String)pageContext.getAttribute("DesignationID",PageContext.SESSION_SCOPE);  					
					
					String piu_id = (String)pageContext.getAttribute("PIU_ID",PageContext.SESSION_SCOPE);
					String dept_id_RVNL = (String)pageContext.getAttribute("DeptRVNL",PageContext.SESSION_SCOPE);
					String desg_id_RVNL = (String)pageContext.getAttribute("DesgRVNL",PageContext.SESSION_SCOPE);
					if(type.equalsIgnoreCase("RVNL")) {
						 String updateSQL_RVNL = "update xx_user_master set user_name ='"+uname+"',password ='"+pwd+"',officer_name='"+officer+"',email_id='"+email+"',contact_no='"+cont+"',type='"+type+"' where PIU_ID="+piu_id+" and Designation_Id="+desg_id_RVNL+" and Department_id="+dept_id_RVNL;
						  ps1 = conn.prepareStatement(updateSQL_RVNL);
						  ps1.executeUpdate();
					}
					else{
						String updateSQL = "update xx_user_master set user_name ='"+uname+"',password ='"+pwd+"',officer_name='"+officer+"',email_id='"+email+"',contact_no='"+cont+"',type='"+type+"' where Zone_ID="+zone_id+" and Division_ID="+division_id+" and Designation_Id="+desg_id+" and Department_id="+dept_id;
						 
						ps = conn.prepareStatement(updateSQL);
						  ps.executeUpdate();
					}
				
				
				
				 
				  
				}catch(Exception e){

					e.printStackTrace();
				}
				 finally {

						try {
							if (rs != null)
								rs.close();
						} catch (Exception e) {
						}
						try {
							if (conn != null)
								conn.close();
						} catch (Exception e) {
						}
						try {
							if (ps != null)
								ps.close();
						} catch (Exception e) {
						}
				
			}  */
		}else if(str.equalsIgnoreCase("third")){	
			String ed_uname = request.getParameter("ED_user_name");
			String ed_pwd = request.getParameter("ED_password");
			
			//Password Encrytin Starts here
			MessageDigest mdAlgorithm = MessageDigest.getInstance("MD5");
			mdAlgorithm.update(ed_pwd.getBytes());

			byte[] digest = mdAlgorithm.digest();
			StringBuffer hexString = new StringBuffer();

			for (int i = 0; i < digest.length; i++) {
				ed_pwd = Integer.toHexString(0xFF & digest[i]);

			    if (ed_pwd.length() < 2) {
			    	ed_pwd = "0" + ed_pwd;
			    }

			    hexString.append(ed_pwd);
			}
			//System.out.println("outputting encrypted password-----------"+ed_pwd);
		// encryption ends here
			String ed_desg = request.getParameter("ED_Designation");
			String ed_piuCheck[] = request.getParameterValues("ED_PIU");			
			String ed_str =ed_desg.replace("ED (", "");
			String ed_dept =ed_str.replace(")", "");
			
			Connection conn =null;
			try {
				Context initCtx = new InitialContext();
				Context envCtx = (Context) initCtx.lookup("java:comp/env");
				DataSource ds = (DataSource) envCtx.lookup("jdbc/MySQLDB");
			PreparedStatement ps5 =null,ps6=null;ResultSet rs5=null, rs6=null;
				conn = ds.getConnection();
			String sql5 = "select Department_Id from xx_departments_master where Department_Name =?";
			ps5 = conn.prepareStatement(sql5);
			ps5.setString(1, ed_dept);
			rs5 = ps5.executeQuery();
			String ed_dept_id =null;
			while (rs5.next()) {
				ed_dept_id = rs5.getString("Department_Id");
			}
			String sql6 = "select Designation_Id from xx_Designation_master where Designation_Name =?";
			ps6 = conn.prepareStatement(sql6);
			ps6.setString(1, ed_desg);
			rs6 = ps6.executeQuery();
			String ed_desg_id =null;
			while (rs6.next()) {
				ed_desg_id = rs6.getString("Designation_Id");
			}
			
			
            out.write("\t\t\r\n");
            out.write("\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f4 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f4_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f4.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f4.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/local_user.jsp(1671,3) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f4.setDataSource("jdbc/MySQLDB");
              // /Admin/local_user.jsp(1671,3) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f4.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f4 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f4 = _jspx_th_sql_005fupdate_005f4.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f4 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f4 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f4[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f4);
                  }
                  do {
                    out.write("\r\n");
                    out.write("\t\t\t   INSERT INTO xx_user_master (User_name,Password,Role,Type,Department_id,Designation_id,Created_by,Date_created) VALUES ('");
                    out.print(ed_uname);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(ed_pwd);
                    out.write("','Supervisor','RVNL','");
                    out.print(ed_dept_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(ed_desg_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(user );
                    out.write("', now());\r\n");
                    out.write("\t\t\t");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f4.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f4 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f4[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f4.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f4[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f4.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f4.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f4);
              _jspx_th_sql_005fupdate_005f4_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f4, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f4_reused);
            }
            out.write("\r\n");
            out.write("\t\t\t");
 	
			
			for (int k = 0; k < ed_piuCheck.length; k++) {
	 				  
	 			 Statement stmt = conn.createStatement();
					ResultSet rs2 = stmt.executeQuery("select piu_id from xx_piu_master where piu_name = '"+ed_piuCheck[k]+"'");

					String piu_id = null;

					while (rs2.next()) {
						piu_id = rs2.getString(1);  
					}
	 			  
					
            out.write("\r\n");
            out.write("\t\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f5 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f5_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f5.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f5.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/local_user.jsp(1688,5) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f5.setDataSource("jdbc/MySQLDB");
              // /Admin/local_user.jsp(1688,5) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f5.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f5 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f5 = _jspx_th_sql_005fupdate_005f5.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f5 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f5 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f5[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f5);
                  }
                  do {
                    out.write("\r\n");
                    out.write("\t\t\t\t\t   INSERT INTO xx_ed_piu_mapping (designation_id,piu_id) VALUES ('");
                    out.print(ed_desg_id);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(piu_id);
                    out.write("');\r\n");
                    out.write("\t\t\t\t\t");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f5.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f5 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f5[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f5.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f5[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f5.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f5.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f5);
              _jspx_th_sql_005fupdate_005f5_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f5, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f5_reused);
            }
            out.write("\r\n");
            out.write("\t\t\t\t\t");
				
	 		  }
			//conn.close();
		}catch(Exception e){
			e.printStackTrace();
		} finally {
			    try { conn.close(); } catch (Exception e) { /* ignored */ }
			}
			
			
		}
		//else if(str.equalsIgnoreCase("fourth")){	
			/* String username = request.getParameter("User_name");
			String pwds = request.getParameter("Password");
			String officers = request.getParameter("Officer_Name");
			String emails =request.getParameter("Email");
			String phones =request.getParameter("Phone_Number");
			String pius =request.getParameter("PIU_Id");
			System.out.println("piu:"+pius);
			String departme =request.getParameter("Depatment");
			String zoneCheck[] = request.getParameterValues("Zone_id");			
			String zones =request.getParameter("Zone_id");
			String zonename =request.getParameter("Zone_Name");
			String userid = request.getParameter("User_Id");
			String zoneid = request.getParameter("Zone_ID");
			String LocalUser = request.getParameter("LocalUser");
			String RVNL = request.getParameter("LocalUser"); */
			
			/* try {
				Context initCtx = new InitialContext();
				Context envCtx = (Context) initCtx.lookup("java:comp/env");
				DataSource ds = (DataSource) envCtx.lookup("jdbc/MySQLDB");
			Connection conn =null;PreparedStatement ps5 =null,ps6=null,ps7=null,ps8=null ,ps9=null;ResultSet rs5=null, rs6=null,rs7=null,rs8=null,rs9=null;
				conn = ds.getConnection();
				String sql7 = "select PIU_Id from xx_piu_master where PIU_Name =?";
				ps7 = conn.prepareStatement(sql7);
				ps7.setString(1, pius);
				rs7 = ps7.executeQuery();
				String pius_id =null;
				while (rs7.next()) {
					pius_id = rs7.getString("PIU_Id");
					//System.out.println("PIU_ID="+pius_id+"department="+departme);
				}
				String sql8 = "select Department_Id from xx_departments_master where Department_Name =?";
				ps8 = conn.prepareStatement(sql8);
				ps8.setString(1,departme);
				rs8 = ps8.executeQuery();
				String departme_id =null;
				while (rs8.next()) {
					departme_id = rs8.getString("Department_Id");
					//System.out.println("department_id="+departme_id);
				} */
			
				 
            out.write("\r\n");
            out.write("\t\t\t\t");
            out.write("\r\n");
            out.write("\t\t\t\t");
		
				/* 
				String usersql = "select User_ID from xx_user_master where User_name=? and password=? and Email_Id=?";
				ps9 = conn.prepareStatement(usersql);
				ps9.setString(1,username);ps9.setString(2,pwds);ps9.setString(3,emails);
				rs9 = ps9.executeQuery();
				rs9.next();
				String userid1=rs9.getString("User_ID");
				
				
			for (int k = 0; k < zoneCheck.length; k++) {
	 				  
	 			 Statement stmt = conn.createStatement();
					ResultSet rs2 = stmt.executeQuery("select Zone_Id from xx_zones_master where Zone_Name = '"+zoneCheck[k]+"' order by Zone_Name ");

					String zone1 = null;

					while (rs2.next()) {
						zone1 = rs2.getString(1);  
				
					}
					System.out.println("Zones=="+zone1); */
					
            out.write("\r\n");
            out.write("\t\t\t\t\t");
            out.write("\r\n");
            out.write("\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t");
	
					
	 		 // }
            out.write("\r\n");
            out.write("\t \t\t  <!-- <div class=\"alert alert-success\" align=\"center\"><strong>Success!</strong> Local Admin created successfully.</div> -->\r\n");
            out.write("\t \t\t  ");

			//conn.close();
	//	}catch(Exception e){
		//	e.printStackTrace();
		//}
			
		//}
		} // end of if of project stage
				

            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\r\n");
            out.write("\t");
            int evalDoAfterBody = _jspx_th_c_005fif_005f1.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_c_005fif_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return;
        }
        _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f1);
        _jspx_th_c_005fif_005f1_reused = true;
      } finally {
        org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fif_005f1, _jsp_getInstanceManager(), _jspx_th_c_005fif_005f1_reused);
      }
      out.write("\t\r\n");
      out.write("\t</form>\r\n");
      out.write("\t</div>\t\t\t\t\t\t\t\t\t\t    \r\n");
      out.write("\t<script type=\"text/javascript\">\r\n");
      out.write("\t$('#PIUunderList').change(function(){\r\n");
      out.write("\t    $('#Zoneunderlist option:first').prop('selected', 'selected');\r\n");
      out.write("\t    $('#OrgUnderlist option:first').prop('selected', 'selected');\r\n");
      out.write("\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("\t$('#Zoneunderlist').change(function(){\r\n");
      out.write("\t   $('#PIUunderList option:first').prop('selected', 'selected');\r\n");
      out.write("\t   $('#OrgUnderlist option:first').prop('selected', 'selected'); \r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("\t  $('#OrgUnderlist').change(function(){\r\n");
      out.write("\t      $('#PIUunderList option:first').prop('selected', 'selected');\r\n");
      out.write("\t      $('#Zoneunderlist option:first').prop('selected', 'selected');\r\n");
      out.write("\t});\r\n");
      out.write("\t  </script>\r\n");
      out.write(" \r\n");
      out.write("</body>\r\n");
      out.write("<br><br><br><br><br><br><br><br><br>\r\n");
      out.write(" ");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\">\r\n");
      out.write("<link rel=\"stylesheet\" href=\"http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\">\r\n");
      out.write("<title>Insert title here</title>\r\n");
      out.write("<style>\r\n");
      out.write("@import url('http://fonts.googleapis.com/css?family=Open+Sans:400,700');\r\n");
      out.write("\r\n");
      out.write("footer{\r\n");
      out.write("\tposition: fixed;\r\n");
      out.write("\tmargin-top:150px;\r\n");
      out.write("\tbottom: 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("</style>\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!-- \r\n");
      out.write("<footer>\r\n");
      out.write("<div class=\"city\">\r\n");
      out.write("  <ul class=\" nav navbar-nav\">\r\n");
      out.write("  \r\n");
      out.write("    <li class=\"footerli\">Rail Vikas Nigam Limited.</li>\r\n");
      out.write("    </ul>\r\n");
      out.write("    <ul   class=\"nav navabar-nav\" style=\"float:right;\">\r\n");
      out.write("   <li class=\"footerli\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Design & Developed By<a href=\"http://www.awcsoftware.net\" style=\"text-decoration:none;\">AWC SOFTWARE PVT LTD</a></li>\r\n");
      out.write("    \r\n");
      out.write("  </ul>\r\n");
      out.write(" </div>\r\n");
      out.write("\r\n");
      out.write("</footer> -->\r\n");
      out.write("\r\n");
      out.write("<footer class=\"footer-basic-centered\">\r\n");
      out.write("\r\n");
      out.write("\t\t\t<p class=\"footer-company-motto\" style=\"float:left;\">Rail Vikas Nigam Limited</p>\r\n");
      out.write("\t\t\t<p class=\"footer-company-motto\" style=\"float:center; font-family:serif; font-size:14px; font-style:italic; margin-top:5px;\">Ver:2.30.pks</p>\r\n");
      out.write("\t\t\t<p class=\"footer-company-name\" style=\"float:right; margin-top:-20px;\"> Design & Developed By<a href=\"http://www.awcsoftware.net\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AWC SOFTWARE PVT LTD</a></p>\r\n");
      out.write("\r\n");
      out.write("\t\t</footer>\r\n");
      out.write("</body>");
      out.write("\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
