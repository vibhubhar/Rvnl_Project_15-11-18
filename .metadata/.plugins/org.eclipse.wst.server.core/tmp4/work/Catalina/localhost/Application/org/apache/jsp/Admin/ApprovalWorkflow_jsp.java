/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.86
 * Generated at: 2018-10-30 09:04:51 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.Admin;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import javax.servlet.*;
import javax.servlet.http.*;
import javax.naming.*;
import java.sql.*;
import javax.sql.*;
import javax.naming.*;
import java.sql.*;
import javax.sql.*;
import java.util.*;
import java.util.Date;
import java.text.SimpleDateFormat;
import javax.servlet.*;
import javax.servlet.http.*;
import java.util.*;
import javax.naming.*;
import java.sql.*;
import javax.sql.*;
import java.net.URLEncoder;

public final class ApprovalWorkflow_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(4);
    _jspx_dependants.put("/Admin/included/NewHeader.jsp", Long.valueOf(1538119203935L));
    _jspx_dependants.put("/Admin/included/footer.jsp", Long.valueOf(1528198704970L));
    _jspx_dependants.put("/WEB-INF/sessionCheck1.jspf", Long.valueOf(1524567358000L));
    _jspx_dependants.put("/Admin/sessionCheck.jsp", Long.valueOf(1524567356000L));
  }

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fif_0026_005ftest;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fredirect_0026_005furl;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fparam_0026_005fvalue_005fname_005fnobody;

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fredirect_0026_005furl = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fparam_0026_005fvalue_005fname_005fnobody = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.release();
    _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.release();
    _005fjspx_005ftagPool_005fc_005fredirect_0026_005furl.release();
    _005fjspx_005ftagPool_005fc_005fparam_0026_005fvalue_005fname_005fnobody.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=ISO-8859-1");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

 
int timeout = session.getMaxInactiveInterval();
response.setHeader("Refresh", timeout + "; URL = admn_login.jsp");

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
 

int timeout1 = session.getMaxInactiveInterval();
response.setHeader("Refresh", timeout1 + "; URL = admn_login.jsp");

if(((String)session.getAttribute("user_name"))==null)
       {
           
	response.sendRedirect("admn_login.jsp");
           
       }
      out.write('\r');
      out.write('\n');
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t");

 String theme3 = (String) pageContext.getAttribute("myTheme", PageContext.SESSION_SCOPE);
if (theme3!=null) {
if (theme3.equalsIgnoreCase("brown") ) { 
      out.write("\r\n");
      out.write("\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"resources/css/ThmBrown.css\">\r\n");
      out.write("\t\t");
 } else if (theme3.equalsIgnoreCase("blue")) { 
      out.write(" \r\n");
      out.write("\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"resources/css/ThmBlue.css\">\r\n");
      out.write("\t\t");
} else if (theme3.equalsIgnoreCase("green")) { 
      out.write(" \r\n");
      out.write("\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"resources/css/ThmGreen.css\">\r\n");
      out.write("\t\t");
} else if (theme3.equalsIgnoreCase("magenta")) { 
      out.write(" \r\n");
      out.write("\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"resources/css/Thmmagenta.css\">\r\n");
      out.write("\t\t");
}
} else {
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"resources/css/ThmBrown.css\">\r\n");
      out.write("\t\t");
} 
      out.write("\r\n");
      out.write("\t\t\r\n");
      out.write("<meta charset=\"ISO-8859-1\">\r\n");
      out.write("<title>PDAMS</title>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script src=\"//code.jquery.com/jquery-1.10.2.js\"></script>\r\n");
      out.write("<style>\r\n");
      out.write(".white-marquee {\r\n");
      out.write("   font-family:   arial, serif, \"Times New Roman\", calibri, Times;\r\n");
      out.write("\tfont-size: 14px;\r\n");
      out.write("\tcolor:  white;\r\n");
      out.write("\t//margin-left:50px;\r\n");
      out.write("\tfont-weight:bold;\r\n");
      out.write("\tpadding:10px;\r\n");
      out.write("\tpadding-bottom:5px;\r\n");
      out.write("}\r\n");
      out.write("</style>\r\n");
      out.write("\r\n");
      out.write("</head>\r\n");
      out.write("<body>   \r\n");

//String mailstatus=(String)session.getAttribute("MailStatus"); 
//String user = (String) session.getAttribute("user_name");
String user_code = (String) session.getAttribute("User_Code");
if (user_code!=null) {} else {user_code="0";}
 String mq=null, mqLaunch=null, mqMaint=null, mqOther=null, mqRly=null, mqRVNL=null;					
 //System.out.println("code="+user_code);	
  Connection conn7 = null;                                                      
     			PreparedStatement ps777=null;
     			ResultSet  rs777=null;
     						//Statement stmt7 = null;
     						try {
     							Context initCtx = new InitialContext();
     							Context envCtx = (Context) initCtx.lookup("java:comp/env");
     							DataSource ds = (DataSource) envCtx.lookup("jdbc/MySQLDB");

     							conn7 = ds.getConnection();
     							String sql35 = "select item, description from xx_maintenance";
     									
    								ps777 = conn7.prepareStatement(sql35);
    								rs777 = ps777.executeQuery();
    								while (rs777.next()) {
    									String item=rs777.getString(1);
    									 String desc=rs777.getString(2);
    									if (item.equalsIgnoreCase("marquee-launch")) {
    										mqLaunch=desc;
    									} else if (item.equalsIgnoreCase("marquee-maint")) {
    										mqMaint=desc;
    									} else if (item.equalsIgnoreCase("marquee-other")) {
    										mqOther=desc;
    									} else if (item.equalsIgnoreCase("marquee-Rly")) {
    										mqRly=desc;
    									} else if (item.equalsIgnoreCase("marquee-RVNL")) {
    										mqRVNL=desc;
    									} 
    								}
    								if (user_code.equalsIgnoreCase("2")) {
    									mq= mqLaunch+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqMaint+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqOther+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqRly;
    								} else if (user_code.equalsIgnoreCase("5")) {
    									mq= mqLaunch+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqMaint+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqOther+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqRVNL;
    								} else {
    								mq= mqLaunch+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqMaint+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+mqOther;
    								}		 
    				    				//System.out.println("marquee="+mq);
     						}catch(Exception e){
    							
    							e.printStackTrace();
    						} finally {
    						    try { rs777.close(); } catch (Exception e) { /* ignored */ }
    						    try { ps777.close(); } catch (Exception e) { /* ignored */ }
    						    try { conn7.close(); } catch (Exception e) { /* ignored */ }
    						}



      out.write("\r\n");
      out.write("<input type=\"hidden\" id=\"menu1\" value='");
      out.print(session.getAttribute("user_name") );
      out.write("'>\r\n");
      out.write("     \t   <div class=\"header\">\r\n");
      out.write("   \r\n");
      out.write(" \t\t   <table width=\"100%\"><tr><th width=15%>\r\n");
      out.write("    \t\t  <img src=\"images/Rail_logo.png\"  class=\"img-responsive\" style=\"float:left;height:80px;margin-left:10px;\">\r\n");
      out.write("    \t\t  \r\n");
      out.write("   </td>\r\n");
      out.write("   <th width=60%>\r\n");
      out.write("      \t\t <h2 style=\" margin-left:5px;\"><i>Project Documents Approval Monitoring System (PDAMS)</i></h2>\t\r\n");
      out.write("   \r\n");
      out.write("   </th><th width=25%>\r\n");
      out.write("\t  <img src=\"images/RVNL_LOGO.jpg\"  class=\"img-responsive\" style=\"float:left;height:80px;margin-left:10px;\">\r\n");
      out.write(" \t\t  </table>\t\r\n");
      out.write("   </div>\r\n");
      out.write("\t   <div class=\"topmenu\" id=\"menu\">\r\n");
      out.write("\t  <div id=\"menu1\"  style=\"float:left;\"> \r\n");
      out.write("\t  \t\t<ul>\r\n");
      out.write("\t  \t\t\r\n");
      out.write("\t  \t\t<!-- <li><a href=\"user_index.jsp\">Add/Modify Docs</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"user_Project.jsp\">My Projects</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"Reportpiuinitiate.jsp\">My Reports</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"MoreInfo.jsp\">Returned Tasks</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"PullBack.jsp\">PullBack Doc</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"FinalApproval.jsp\">Docs under Approval</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"FinallyApprovedShow.jsp\">Approved Docs</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"ManualMail.jsp\">Reminders</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"User_List.jsp\">User List</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"changepasswordlocaladmin.jsp\">Change Password</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"helpmain.jsp\">Help</a></li>\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"admn_logout.jsp\">Logout</a></li>  -->\r\n");
      out.write("\t   \t\t\t\t\t<li><a href=\"NewIndex.jsp\">Home</a></li>\r\n");
      out.write("\t   \t\t\t\t\t\r\n");
      out.write("\t   \t\t\t\t\t</ul>\t \r\n");
      out.write("\t   \t\t\t\t\t</div>  \r\n");
      out.write("\t   \t\t\t\t\t");

	   					if (!mq.equalsIgnoreCase("") && mq!=null) {
	   					
      out.write("\t\r\n");
      out.write("\t   \t<div id=\"menu11\" ></div>\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t   <div id=\"menu2\"  style=\"width:70%; float:left;\">     \t\t\t\t\t\r\n");
      out.write("\t   <marquee><span class=\"white-marquee\" id=\"white-marquee\" style=\"float:right; width:100%\">");
      out.print(mq );
      out.write("</span></marquee>  </div>\r\n");
      out.write("\t  ");

	  	}
	   	
      out.write("\t\r\n");
      out.write("\t   \t\r\n");
      out.write("\t\t\t\t\t\t\t</div> \r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\">\r\n");
      out.write("<title>Approval WorkFlow</title>\r\n");
      out.write("<link rel=\"stylesheet\" href=\"//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css\"/>\r\n");
      out.write("<link href=\"/Application/Admin/resources/bootstrap-3.3.7-dist/css1/bootstrap.min.css\" rel=\"stylesheet\"/>\r\n");
      out.write("<link rel=\"stylesheet\" href=\"/Application/Admin/resources/bootstrap-3.3.7-dist/css1/bootstrap.css\"/>\r\n");
      out.write("<script type=\"text/javascript\" src=\"resources/JS/backButton.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"resources/JS/validate230.js\"></script>\r\n");
      out.write("    <script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.12.4.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js\"></script>\r\n");
      out.write(" <script type=\"text/javascript\" src=\"http://www.allmyscripts.com/Table_Sort/beta/gs_sortable.js\"></script>\r\n");
      out.write("\r\n");
      out.write(" <script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\"></script> \r\n");
      out.write("    <script src=\"http://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.9/jquery-ui.js\" type=\"text/javascript\"></script>\r\n");
      out.write("     <script type=\"text/javascript\"\r\n");
      out.write("\tsrc=\"resources/JS/datasort.js\"></script>\r\n");
      out.write("\t<link\r\n");
      out.write("\thref=\"https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css\"\r\n");
      out.write("\trel=\"stylesheet\" type=\"text/css\" />\r\n");
      out.write("    <link href=\"http://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.9/themes/blitzer/jquery-ui.css\" rel=\"stylesheet\" type=\"text/css\" /> \r\n");
      out.write("  \r\n");
      out.write("<script src=\"resources/JS/Approval_wf230.js\"></script>\r\n");
      out.write("<style>\r\n");
      out.write(".ui-datepicker-year {\r\n");
      out.write("   background-color: #cc0000;\r\n");
      out.write(" padding-left:20px;\r\n");
      out.write("}\r\n");
      out.write("</style>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\r\n");
      out.write("function frezedate(id,startDate){\r\n");
      out.write("\tjQuery.noConflict();\r\n");
      out.write("\t\r\n");
      out.write("\tvar idof=id;\r\n");
      out.write("\t//alert(startDate);\r\n");
      out.write("\tvar chunks = startDate.split('/');\r\n");
      out.write("var formattedDate = [chunks[1],chunks[0],chunks[2]].join(\"/\");\r\n");
      out.write("\t\r\n");
      out.write("\t$(\"#\"+idof).datepicker({\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tdateFormat : 'dd/mm/yy',\r\n");
      out.write("\t\tminDate:formattedDate,\r\n");
      out.write("\t\tmaxDate:'0', changeYear: true\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t}).datepicker( \"show\").val();\r\n");
      out.write("\t//var today = new Date(); var dd = today.getDate(); \r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\tvar people, asc1 = 1, asc2 = 1, asc3 = 1;\r\n");
      out.write("\tasc4 = 1;\r\n");
      out.write("\tasc5 = 1;\r\n");
      out.write("\tasc6 = 1;\r\n");
      out.write("\tasc7 = 1;\r\n");
      out.write("\tasc8 = 1;\r\n");
      out.write("\twindow.onload = function() {\r\n");
      out.write("\t\tpeople = document.getElementById(\"people\");\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\tfunction sort_table(tbody, col, asc) {\r\n");
      out.write("\t\tvar rows = tbody.rows, rlen = rows.length, arr = new Array(), i, j, cells, clen;\r\n");
      out.write("\t\t// fill the array with values from the table\r\n");
      out.write("\t\tfor (i = 0; i < rlen; i++) {\r\n");
      out.write("\t\t\tcells = rows[i].cells;\r\n");
      out.write("\t\t\tclen = cells.length;\r\n");
      out.write("\t\t\tarr[i] = new Array();\r\n");
      out.write("\t\t\tfor (j = 0; j < clen; j++) {\r\n");
      out.write("\t\t\t\tarr[i][j] = cells[j].innerHTML;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t// sort the array by the specified column number (col) and order (asc)\r\n");
      out.write("\t\tarr.sort(function(a, b) {\r\n");
      out.write("\t\t\treturn (a[col] == b[col]) ? 0\r\n");
      out.write("\t\t\t\t\t: ((a[col] > b[col]) ? asc : -1 * asc);\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t// replace existing rows with new rows created from the sorted array\r\n");
      out.write("\t\tfor (i = 0; i < rlen; i++) {\r\n");
      out.write("\t\t\trows[i].innerHTML = \"<td>\" + arr[i].join(\"</td><td>\") + \"</td>\";\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("</script>\r\n");
      out.write("<script>\t\r\n");
      out.write("\t\r\n");
      out.write("\t$(document).ready(function() {\r\n");
      out.write("\t\tjQuery.extend( jQuery.fn.dataTableExt.oSort, {\r\n");
      out.write("\t\t    \"date-uk-pre\": function ( a ) {\r\n");
      out.write("\t\t        if (a == null || a == \"\") {\r\n");
      out.write("\t\t            return 0;\r\n");
      out.write("\t\t        }\r\n");
      out.write("\t\t        var ukDatea = a.split('-');\r\n");
      out.write("\t\t        return (ukDatea[2] + ukDatea[1] + ukDatea[0]) * 1;\r\n");
      out.write("\t\t    },\r\n");
      out.write("\t\t \r\n");
      out.write("\t\t    \"date-uk-asc\": function ( a, b ) {\r\n");
      out.write("\t\t        return ((a < b) ? -1 : ((a > b) ? 1 : 0));\r\n");
      out.write("\t\t    },\r\n");
      out.write("\t\t \r\n");
      out.write("\t\t    \"date-uk-desc\": function ( a, b ) {\r\n");
      out.write("\t\t        return ((a < b) ? 1 : ((a > b) ? -1 : 0));\r\n");
      out.write("\t\t    }\r\n");
      out.write("\t\t} );\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t    $('#my_table').DataTable( {\r\n");
      out.write("\t         \t       \r\n");
      out.write("  \t\t\t\"infoCallback\": function( settings, start, end, max, total, pre ) {\r\n");
      out.write("\t\t\t\tif (max==total) { return \"Showing \" + (end-start+1) + \"  of \" +total+\" records\"}\r\n");
      out.write("\t\t\t\telse {return \"Showing \" + (end-start+1) + \"  of \" +total+\" records (filtered from total \" + max+\" records)\"}\r\n");
      out.write("\t\t\t   \t},\r\n");
      out.write("\t \r\n");
      out.write("\t  dom: 'ftip',\r\n");
      out.write("\t\t\t    columnDefs:   [ {  type: 'date-uk', targets: [7,9]}, { targets: [10,11,12,13,14],\"orderable\":false }  ]\r\n");
      out.write("\t    } );\r\n");
      out.write("\t} );\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("<style>\r\n");
      out.write("\r\n");
      out.write("div.absolute {\r\n");
      out.write("   \tposition:absolute;\r\n");
      out.write("   \tmargin-top: 5px;\r\n");
      out.write("   \tmargin-left: 37px;\r\n");
      out.write("   \tmargin-bottom: 20px;\r\n");
      out.write(" \tpadding: 15 px;\r\n");
      out.write("    width: auto;\r\n");
      out.write("    height: 30px;\r\n");
      out.write("    border: 3px double #ff4d4d;\r\n");
      out.write("    background-color:#ffe6e6;\r\n");
      out.write("        }\r\n");
      out.write("    table.center {\r\n");
      out.write("    margin-left:auto; \r\n");
      out.write("    margin-right:auto;\r\n");
      out.write("  }\r\n");
      out.write("</style>\r\n");
      out.write("\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("   \r\n");
      out.write("\t");

		String user = (String) session.getAttribute("user_name");
		user=user.trim();
		session.removeAttribute("backurl"); 
		
	
      out.write('\r');
      out.write('\n');
      out.write('	');
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("\t<div class=\"absolute\" style=\"font-weight:bold\" ><h8>&nbsp;&nbsp;&nbsp;[My Task] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h8>\r\n");
      out.write("\r\n");
      out.write("<h8><font style=\"color:red; font-weight:normal\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Welcome&nbsp;</font><font style=\"color:#3333cc; font-weight:normal\">:&nbsp;");
      out.print((String)session.getAttribute("user_name") );
      out.write("&nbsp;&nbsp;&nbsp;</font></h8>\r\n");
      out.write("</div><br>\r\n");
      out.write("\t<div class=\"container\" style=\"    margin-top: 44px;\r\n");
      out.write("    margin-left: 24px;\">\r\n");
      out.write("\t\t<form action=\"\" id=\"Apprwfl\" name=\"Apprwfl\" >\r\n");
      out.write("\t\t\t<INPUT TYPE=\"HIDDEN\" NAME=\"Stage\"> \r\n");
      out.write("\t\t\t<INPUT TYPE=\"HIDDEN\" NAME=\"Doc_Id\"> \r\n");
      out.write("\t\t\t<INPUT TYPE=\"HIDDEN\" NAME=\"Doc_no\"> \r\n");
      out.write("\t\t\t<INPUT TYPE=\"HIDDEN\" NAME=\"RequestedBy\">\r\n");
      out.write("\t\t\t<INPUT TYPE=\"HIDDEN\" NAME=\"Action\">\r\n");
      out.write("\t\t\t<INPUT TYPE=\"HIDDEN\" NAME=\"AddedBy\">\r\n");
      out.write("\t\t\t<INPUT TYPE=\"HIDDEN\" NAME=\"usern\">\r\n");
      out.write("\r\n");
      out.write("\t\t\t");

				String document_id_i = null;
				String requested_by_b = null;
				String doc_no_n = null;
				String rdstatus = (String) session.getAttribute("RealdateStatus");
			
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t\t\t");
      //  c:if
      org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f0 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
      boolean _jspx_th_c_005fif_005f0_reused = false;
      try {
        _jspx_th_c_005fif_005f0.setPageContext(_jspx_page_context);
        _jspx_th_c_005fif_005f0.setParent(null);
        // /Admin/ApprovalWorkflow.jsp(198,3) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
        _jspx_th_c_005fif_005f0.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${param.Stage == null}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
        int _jspx_eval_c_005fif_005f0 = _jspx_th_c_005fif_005f0.doStartTag();
        if (_jspx_eval_c_005fif_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("\r\n");
            out.write("\t\t\t\t");

				Connection conn = null;
				String pendingfrm1=null,pendingfrm2=null;
				PreparedStatement ps = null, ps2 = null, hierPS = null,ps11=null;
				ResultSet rs = null, rs2 = null, hierRS = null,rs11=null;
				
				String document_id = null, added_by = null, zone_hierarchy_id = null, assigned_to = null, div_hierarchy_id = null;
				String doc_no = null, doc_name = null, docType = null, hier_type = null, requested_by = null, division = null;
				String remark = null;
				Date submittedDate,pendingfrm=null;
			try {
					Context initCtx = new InitialContext();
						Context envCtx = (Context) initCtx.lookup("java:comp/env");
						DataSource ds = (DataSource) envCtx.lookup("jdbc/MySQLDB");
						conn = ds.getConnection();
						String sql1 = "select * from xx_document_mapping DM, xx_approval_workflow AW where DM.Document_Map_ID = AW.Document_id and AW.action ='N' and AW.assigned_to = '"+user+"'";
						ps = conn.prepareStatement(sql1);
						rs = ps.executeQuery();
										
				
            out.write("\r\n");
            out.write("\t\t\t\t<div class='scrollit' style='overflow-x: scroll;width: 115%;position:relative;'>\r\n");
            out.write("\t\t\t\t<table class=\"table table-hover table-bordered\"\tid=\"my_table\" style=\"background-color:#F0FFFF;\" class=\"display\" width=\"100%\">\r\n");
            out.write("\t\t\t\t\t<thead><tr class=\"success\">\r\n");
            out.write("\t\t\t\t\t<!--  \r\n");
            out.write("\t\t\t\t\t<th onclick=\"sort_table(people, 0, asc1); asc1 *= -1; asc2 = 1; asc3 = 1;\"><b style=\"text-decoration: underline;\">SNo </b>&#8593;&nbsp;&#8595;</th>\r\n");
            out.write("\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t<th onclick=\"sort_table(people, 1, asc2); asc1 *= -1; asc2 = 1; asc3 = 1;\"><b style=\"text-decoration: underline;\">PIU Name </b>&#8593;&nbsp;&#8595;</th>\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t<th onclick=\"sort_table(people, 3, asc4); asc3 *= -1; asc4 = 1; asc1 = 1;\"><b style=\"text-decoration: underline;\" >Project Name  </b>&nbsp;&nbsp;&nbsp;&#8593;&nbsp;&#8595;</th>\r\n");
            out.write("\t\t\t\t\t\t<th onclick=\"sort_table(people, 2, asc3);asc5 *= -1; asc6 = 1; asc7 = 1;\"><b style=\"text-decoration: underline;\">Package Name  </b>&nbsp;&nbsp;&nbsp;&#8593;&nbsp;&#8595;</th>\r\n");
            out.write("\t\t\t\t\t\t<th onclick=\"sort_table(people, 4, asc5); asc2 *= -1; asc3 = 1; asc4 = 1;\"><b style=\"text-decoration: underline;\">Document Number</b>&nbsp;&nbsp;&nbsp;&#8593;&nbsp;&#8595;</th>\r\n");
            out.write("\t\t\t\t\t\t<th onclick=\"sort_table(people, 5, asc6); asc5 *= -1; asc6 = 1; asc7 = 1;\"><b style=\"text-decoration: underline;\">Document Type </b>&nbsp;&nbsp;&nbsp;&#8593;&nbsp;&#8595;</th>\r\n");
            out.write("\t\t\t\t\t\t<th onclick=\"sort_table(people, 6, asc7); asc2 *= -1; asc3 = 1; asc4 = 1;\"><b style=\"text-decoration: underline;\">Document Name</b>&nbsp;&nbsp;&nbsp;&#8593;&nbsp;&#8595;</th>\r\n");
            out.write("\t\t\t\t\t\t<th onclick=\"sort_table(people, 7, asc8); asc6 *= -1; asc7 = 1; asc1 = 1;\"><b style=\"text-decoration: underline;\">Submission Date</b>&nbsp;&nbsp;&#8595;</th>\r\n");
            out.write("\t\t\t\t\t\t<th onclick=\"sort_table(people, 8, asc9); asc6 *= -1; asc7 = 1; asc1 = 1;\"><b style=\"text-decoration: underline;\">Requested By</b>&nbsp;&nbsp;&nbsp;&#8593;&nbsp;&#8595;</th>\r\n");
            out.write("\t\t\t\t\t\t<th sort_table(people, 2, asc3); asc3 *= -1; asc4 = 1; asc5 = 1;\"><b style=\"text-decoration: underline;\">Pending since</b>&nbsp;&nbsp;&nbsp;&#8593;&nbsp;&#8595;</th> -->\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t<th><b >SNo </b></th>\r\n");
            out.write("\t\t\t\t\t\t<th><b >PIU Name </b></th>\r\n");
            out.write("\t\t\t\t\t\t<th><b  >Project Name  </b></th>\r\n");
            out.write("\t\t\t\t\t\t<th><b >Package Name  </b></th>\r\n");
            out.write("\t\t\t\t\t\t<th><b >Document Number</b></th>\r\n");
            out.write("\t\t\t\t\t\t<th><b >Document Type </b></th>\r\n");
            out.write("\t\t\t\t\t\t<th><b >Document Name</b></th>\r\n");
            out.write("\t\t\t\t\t\t<th><b >Submission Date</b></th>\r\n");
            out.write("\t\t\t\t\t\t<th><b >Requested By</b></th>\r\n");
            out.write("\t\t\t\t\t\t<th><b >Pending since</b></th> \t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t<th>Log Details </b></th>\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t<th><b >Action Date</b></th>\r\n");
            out.write("\t\t\t\t\t\t<th style=\"text-align:center;\">Action 1</th>\r\n");
            out.write("\t\t\t\t\t\t<th style=\"text-align:center;\">Action 2</th>\r\n");
            out.write("\t\t\t\t\t\t<th style=\"text-align:center;\">Action 3</th> \r\n");
            out.write("\t\t\t\t\t\t</tr></thead>\r\n");
            out.write("\t\t\t\t\t\t<tbody id=\"people\">\r\n");
            out.write("\t\t\t\t\t\t");

						int count=0;
							String hier_id = null, c_level = null;
								while (rs.next()) {
									document_id = rs.getString(1);
									added_by = rs.getString(8);
									c_level = rs.getString(23);
									String zh_id = rs.getString(12);
									String dh_id = rs.getString(13);
									
									if(document_id !=null){
										
										String q1="select * from xx_record_actions where document_id = '"+document_id+"'";
										ps11 = conn.prepareStatement(q1);
										rs11 = ps11.executeQuery();
										while(rs11.next())
											
										{
											pendingfrm=rs11.getDate("CurrentDate");
											
											
										}
										
										pendingfrm1 = new SimpleDateFormat("dd-MM-yyyy")
										.format(pendingfrm);
										 pendingfrm2 = new SimpleDateFormat("MM/dd/yyyy")
										.format(pendingfrm);
										
										
										
									}
									
									

									if (zh_id != null) {
										hier_id = rs.getString(12);
										String getHier = "select * from xx_doc_zones_hierarchy where hierarchy_id = '"
												+ hier_id + "'";
										hierPS = conn.prepareStatement(getHier);
										hierRS = hierPS.executeQuery();
										String level = null;
										while (hierRS.next()) {
											level = hierRS.getString("level");
										}
									} else if (dh_id != null) {
										hier_id = rs.getString(13);
										String getHier = "select * from xx_doc_divisions_hierarchy where hierarchy_id = '"
												+ hier_id + "'";
										hierPS = conn.prepareStatement(getHier);
										hierRS = hierPS.executeQuery();
										String level = null;
										while (hierRS.next()) {
											level = hierRS.getString("level");
										}
									}
									
									String sql2 = "select user_name from xx_user_master where user_id = '"
											+ added_by + "'";
									ps2 = conn.prepareStatement(sql2);
									rs2 = ps2.executeQuery();

									zone_hierarchy_id = rs.getString(12);
									assigned_to = rs.getString(19);
									div_hierarchy_id = rs.getString(13);
									doc_no = rs.getString(2);
									docType = rs.getString(3);
									doc_name = rs.getString(4);
									submittedDate = rs.getDate(6);
									division = rs.getString(16);
									String SD = new SimpleDateFormat("dd-MM-yyyy")
											.format(submittedDate);

									hier_type = rs.getString("hierarchyType");

									while (rs2.next()) {
										requested_by = rs2.getString(1);

									}
									String packane=null;
									
									String sqlprojectid = "select Project_ID,Package_ID,Document_Type from xx_document_mapping where Document_Map_ID='"
											+ document_id + "'";
									PreparedStatement pspid = conn
											.prepareStatement(sqlprojectid);
									ResultSet rspid = pspid.executeQuery();
									String project = "", piu = "",documentType=null;
									while (rspid.next()) {
										
										String Projectid = rspid.getString("Project_ID");
										String Packageid = rspid.getString("Package_ID");
										String documentType2=rspid.getString("Document_Type");
										documentType = URLEncoder.encode(documentType2, "UTF-8");
										String pack="select * from xx_packages_project where package_id='"+ Packageid + "'";
										PreparedStatement pspro1 = conn
												.prepareStatement(pack);
										ResultSet rspro1 = pspro1.executeQuery();
										while(rspro1.next())
										{
											packane=rspro1.getString("package_name");
											
										}	
										String sqlproject = "select Project,PIU_of_RVNL from xx_projectattributes_master where project_ID='"+ Projectid + "'";
										PreparedStatement pspro = conn
												.prepareStatement(sqlproject);
										ResultSet rspro = pspro.executeQuery();
										while (rspro.next()) {
											project = rspro.getString("Project");
											piu = rspro.getString("PIU_of_RVNL");
                                          count=count+1;
										}
									}
						
            out.write("\r\n");
            out.write("\t\t\t\t\t<tr  class=\"active\">\r\n");
            out.write("\t\t\t\t\t<td>");
            out.print(count);
            out.write("</td>\r\n");
            out.write("\t\t\t\t\t<td>");
            out.print(piu);
            out.write("</td>\r\n");
            out.write("                        \r\n");
            out.write("\t\t\t\t\t\t<td>");
            out.print(project);
            out.write("</td>\r\n");
            out.write("\t\t\t\t\t\t<td>");
            out.print(packane);
            out.write("</td>\r\n");
            out.write("\t\t\t\t\t\t<td>");
            out.print(doc_no);
            out.write("</td>\r\n");
            out.write("\t\t\t\t\t\t<td>");
            out.print(doc_name);
            out.write("</td>\r\n");
            out.write("\t\t\t\t\t\t<td>");
            out.print(docType);
            out.write(" <INPUT TYPE=\"HIDDEN\" NAME=\"C_Level\"\r\n");
            out.write("\t\t\t\t\t\t\tid=\"C_Level\" Value=\"");
            out.print(c_level);
            out.write("\"></td>\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t\t\t<td>");
            out.print(SD);
            out.write("</td>\r\n");
            out.write("\t\t\t\t\t\t<td>");
            out.print(requested_by);
            out.write("</td>\r\n");
            out.write("\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t<!-- <td><button id =\"Approve\" type=\"button\" class=\"btn btn-primary\" onclick=\"approved('");
            out.print(document_id);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(added_by);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(c_level);
            out.write("')\">Approve</button></td> -->\r\n");
            out.write("\t\t\t\t\t\t<td>");
            out.print(pendingfrm1 );
            out.write("</td>\t\r\n");
            out.write("\t\t\t\t\t\t<td><a href=\"recordReport.jsp?Document_Type=");
            out.print(documentType);
            out.write("&doc_id=");
            out.print(document_id);
            out.write("\" target=\"_blank\">\r\n");
            out.write("\t\t\t\t\tLog Details </a>\r\n");
            out.write("\t\t\t</td>\r\n");

SimpleDateFormat df = new SimpleDateFormat("dd/MM/yyyy");
String rd = df.format(new Date());
	//System.out.print("Real Date Status"+rdstatus+rd);
if (rdstatus.equalsIgnoreCase("0")) { 

            out.write("\t\t\t\r\n");
            out.write("\t\t\t<td><input  type=\"text\" id=\"ApprovalDate");
            out.print(document_id );
            out.write("\" name=\"ApprovalDate");
            out.print(document_id );
            out.write("\" class=\"mydatepickers\" readonly=\"true\" onclick=\"frezedate('ApprovalDate");
            out.print(document_id );
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(pendingfrm2);
            out.write("')\"\r\n");
            out.write("\t\t\t\t\t\t\tstyle=\"width: 100px\"></td>\r\n");
            out.write("\t\t\t\t\t");

} else {

            out.write("\r\n");
            out.write("<td><input type=\"text\" id=\"ApprovalDate");
            out.print(document_id);
            out.write("\"\r\n");
            out.write("\t\t\t\t\t\t\tname=\"ApprovalDate");
            out.print(document_id);
            out.write("\"  readonly=\"true\"\r\n");
            out.write("\t\t\t\t\t\t\tstyle=\"width: 100px; background-color: lightgray;\" value=");
            out.print(rd );
            out.write("></td>\r\n");

}

            out.write("\t\r\n");
            out.write("\t\r\n");
            out.write("\t\t\t\t\t\t<td><input style=\"font-size:14px;\" type=\"button\" class=\"btn btn-primary\" id=\"btnShow");
            out.print(document_id);
            out.write("\" value=\"Forward \r\n");
            out.write("\t\t\t\t\t\t\t\tWith Approval\"  onclick=\"lforward('");
            out.print(document_id);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(requested_by);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(doc_no);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(user);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(division);
            out.write("','Forward With Approval')\"/>\r\n");
            out.write("\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t <div id=\"dialog");
            out.print(document_id);
            out.write("\" style=\"display: none\" align=\"center\">\r\n");
            out.write("\t\t\t\t\t <br>\r\n");
            out.write("        Are You Sure You Want To Forward<br><br>\r\n");
            out.write("        <button id=\"ok\" class=\"btn btn-primary\" onclick=\"lforward2nd('");
            out.print(document_id);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(requested_by);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(doc_no);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(user);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(division);
            out.write("','Forward With Approval')\" >ok</button>\r\n");
            out.write("         <button id=\"cancle\" class=\"btn btn-primary\" onclick=\"$('#dialog");
            out.print(document_id);
            out.write("').dialog('close');\">cancel</button>\r\n");
            out.write("    </div>\r\n");
            out.write("   \r\n");
            out.write("    </td>\r\n");
            out.write("    \r\n");
            out.write("    <!--   second popup code------------------------------------------------------ -->  \r\n");
            out.write("    <td><input style=\"font-size:14px;\"  type=\"button\" class=\"btn btn-primary\" id=\"btnShownt");
            out.print(document_id);
            out.write("\" value=\"Forward\r\n");
            out.write("\t\t\t\t\t\t\t\tWithout Approval\" onclick=\"lforward('");
            out.print(document_id);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(requested_by);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(doc_no);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(user);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(division);
            out.write("','Forward Without Approval')\"/>\r\n");
            out.write("\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t <div id=\"dialognt");
            out.print(document_id);
            out.write("\" style=\"display: none\" align=\"center\">\r\n");
            out.write("\t\t\t\t\t <br>\r\n");
            out.write("        Are you sure you want to Forward Without Approval<br><br>\r\n");
            out.write("        <button id=\"ok\" class=\"btn btn-primary\" onclick=\"lforward2nd('");
            out.print(document_id);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(requested_by);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(doc_no);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(user);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(division);
            out.write("','Forward Without Approval')\">ok</button>\r\n");
            out.write("         <button id=\"cancle\" class=\"btn btn-primary\" onclick=\"$('#dialognt");
            out.print(document_id);
            out.write("').dialog('close');\">cancel</button>\r\n");
            out.write("    </div>\r\n");
            out.write("   \r\n");
            out.write("    </td>\r\n");
            out.write("     <!--   END of Second  popup code------------------------------------------------------ --> \r\n");
            out.write("      <!--   Third  popup code of return------------------------------------------------------ -->   \r\n");
            out.write("      \r\n");
            out.write("       <td><input style=\"font-size:14px;\" type=\"button\" class=\"btn btn-primary\" id=\"btnShowret");
            out.print(document_id);
            out.write("\" value=\"Return To RVNL (Without Approval)\" onclick=\"returned('");
            out.print(document_id);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(requested_by);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(doc_no);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(user);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(division);
            out.write("','return')\" />\r\n");
            out.write("\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t\t\t\t\r\n");
            out.write("\t\t\t\t\t <div id=\"dialogret");
            out.print(document_id);
            out.write("\" style=\"display: none\" align=\"center\">\r\n");
            out.write("\t\t\t\t\t <br>\r\n");
            out.write("        Are You Sure You Want To Return<br><br>\r\n");
            out.write("        <button id=\"ok\" class=\"btn btn-primary\" onclick=\"returned2nd('");
            out.print(document_id);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(requested_by);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(doc_no);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(user);
            out.write('\'');
            out.write(',');
            out.write('\'');
            out.print(division);
            out.write("','return')\">ok</button>\r\n");
            out.write("         <button id=\"cancle\" class=\"btn btn-primary\" onclick=\"$('#dialogret");
            out.print(document_id);
            out.write("').dialog('close');\">cancel</button>\r\n");
            out.write("    </div>\r\n");
            out.write("   \r\n");
            out.write("    </td>\r\n");
            out.write("     \t\t\t\t\t</tr>\r\n");
            out.write("\t\t\t\t\t");

						}

								try {
									//if (document_id.equals("")) {
										if (count==0) {
										
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t\t\t\t\t\t\t<div style=\"color:RED;text-align:center;margin-bottom: 29px;\r\n");
            out.write("\t\t\t\t\t\t\tmargin-top: 0px;\"><b> There is no document pending for your approval..... </b></div>\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t\t\t\t\t\t\t");

									}
								} catch (Exception e) {
			
				e.printStackTrace();

								}
								
			} catch(Exception e){
				
				e.printStackTrace();
			} finally {
						
			    try { rs.close(); } catch (Exception e) { /* ignored */ }
			    try { rs2.close(); } catch (Exception e) { /* ignored */ }
			    try { rs11.close(); } catch (Exception e) { /* ignored */ }
			    try { hierRS.close(); } catch (Exception e) { /* ignored */ }
			    try { ps.close(); } catch (Exception e) { /* ignored */ }
			    try { ps2.close(); } catch (Exception e) { /* ignored */ }
			    try { ps11.close(); } catch (Exception e) { /* ignored */ }
			    try { hierPS.close(); } catch (Exception e) { /* ignored */ }
			    try { conn.close(); } catch (Exception e) { /* ignored */ }
			}
							//	conn.close();
					
            out.write("\r\n");
            out.write("\t\t\t\t</tbody></table>\r\n");
            out.write("\t\t\t\t</div>\r\n");
            out.write("\t\t\t\t\r\n");
            out.write("\t\t\t\t <div id=\"dapprovaldate\" style=\"display: none\" align=\"center\">\r\n");
            out.write("\t\t\t\t\t <br>\r\n");
            out.write("       Please Fill Action Date.<br><br>\r\n");
            out.write("        <button id=\"appok\" class=\"btn btn-primary\" onclick=\"$('#dapprovaldate').dialog('close');\">ok</button>\r\n");
            out.write("         <button id=\"appcancle\" class=\"btn btn-primary\" onclick=\"$('#dapprovaldate').dialog('close');\">cancel</button>\r\n");
            out.write("    </div>\r\n");
            out.write("\t\t\t");
            int evalDoAfterBody = _jspx_th_c_005fif_005f0.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_c_005fif_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return;
        }
        _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f0);
        _jspx_th_c_005fif_005f0_reused = true;
      } finally {
        org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fif_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fif_005f0_reused);
      }
      out.write("\r\n");
      out.write("\t\t\t");
      //  c:if
      org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f1 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
      boolean _jspx_th_c_005fif_005f1_reused = false;
      try {
        _jspx_th_c_005fif_005f1.setPageContext(_jspx_page_context);
        _jspx_th_c_005fif_005f1.setParent(null);
        // /Admin/ApprovalWorkflow.jsp(493,3) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
        _jspx_th_c_005fif_005f1.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${param.Stage != null}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
        int _jspx_eval_c_005fif_005f1 = _jspx_th_c_005fif_005f1.doStartTag();
        if (_jspx_eval_c_005fif_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          do {
            out.write("\r\n");
            out.write("\t\t\t\t");

					String remark = request.getParameter("remark");
						if (request.getParameter("Stage").equalsIgnoreCase("actioned")) {
							if (request.getParameter("Action").equalsIgnoreCase(
									"approved")) {
								String doc_id = request.getParameter("Doc_Id");
								String document_id = request
										.getParameter("document_id");
								String addedBy = request.getParameter("AddedBy");
								
								PreparedStatement getLevelPS = null, getUserPS = null, MaxPS = null, getUser = null;
								ResultSet getLevelRS = null, getUserRS = null, MaxRS = null, UserRs = null;
								Connection conn = null;
								try {
								Context initCtx = new InitialContext();
								Context envCtx = (Context) initCtx
										.lookup("java:comp/env");
								DataSource ds = (DataSource) envCtx
										.lookup("jdbc/MySQLDB");
								
								conn = ds.getConnection();
								String getLevel = "select * from xx_approval_workflow where document_id = '"
										+ doc_id + "'";
								getLevelPS = conn.prepareStatement(getLevel);
								getLevelRS = getLevelPS.executeQuery();
								String zh_id = null, hier_id = null, dh_id = null, assigned_to = null;

								String c_levels = request.getParameter("C_Level");
								int c_level = Integer.parseInt(c_levels);
								if (getLevelRS.next()) {
									zh_id = getLevelRS.getString(4);
									assigned_to = getLevelRS.getString(5);
									dh_id = getLevelRS.getString(6);

									PreparedStatement hierPS = null;
									ResultSet hierRS = null;

									
									if (zh_id != null) {
										hier_id = getLevelRS.getString(4);
										String getMax = "select MAX(CAST(level AS SIGNED)) from xx_doc_zones_hierarchy where hierarchy_id ='"
												+ hier_id + "'";
										MaxPS = conn.prepareStatement(getMax);
										MaxRS = MaxPS.executeQuery();
										int level = 0;
										String slevel = null;
										while (MaxRS.next()) {
											slevel = MaxRS.getString(1);
											level = Integer.parseInt(slevel);
										}
										if (c_level < level) {
											int c_level2 = c_level + 1;
											String getHier = "select * from xx_doc_zones_hierarchy where hierarchy_id ='"
													+ hier_id
													+ "' and level = '"
													+ c_level2 + "'";
											hierPS = conn.prepareStatement(getHier);
											hierRS = hierPS.executeQuery();
											String zone = null, dept = null, desg = null;
											while (hierRS.next()) {
												zone = hierRS.getString(4);
												dept = hierRS.getString(6);
												desg = hierRS.getString(7);
											}
											String getU = "select user_name from xx_user_master where zone_id =(select zone_id from xx_zones_master where zone_name = '"
													+ zone
													+ "') and division_id = 86 and department_id =  (select department_id from xx_departments_master where department_name = '"
													+ dept
													+ "') and Designation_Id = (select designation_id from xx_designation_master where designation_name ='"
													+ desg + "')";
											getUser = (PreparedStatement) conn
													.prepareStatement(getU);
											getUser = (PreparedStatement) conn
													.prepareStatement(getU);
											UserRs = getUser.executeQuery();
											String assign_to = null;
											while (UserRs.next()) {
												assign_to = UserRs.getString(1);
											}
											Date dNow = new Date();
											SimpleDateFormat ft = new SimpleDateFormat(
													"dd/MM/yyyy");
											ft.format(dNow);
											

											Statement insertStmt = (Statement) conn
													.createStatement();
											String insertStg = "insert into xx_approval_workflow (Document_id,Added_byUser,zone_hierarchy_id,Assigned_To,Action,CurrentDate,level) Values ('"
													+ doc_id
													+ "','"
													+ addedBy
													+ "','"
													+ hier_id
													+ "','"
													+ assign_to
													+ "','N',CURDATE(),'"
													+ c_level2
													+ "')";
											insertStmt.executeUpdate(insertStg);
				
            out.write("\r\n");
            out.write("\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f0 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f0_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f0.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/ApprovalWorkflow.jsp(594,4) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f0.setDataSource("jdbc/MySQLDB");
              // /Admin/ApprovalWorkflow.jsp(594,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f0.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f0 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f0 = _jspx_th_sql_005fupdate_005f0.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f0 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f0[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f0);
                  }
                  do {
                    out.write("\r\n");
                    out.write("                    update xx_approval_workflow set action ='Y' where document_id =");
                    out.print(doc_id);
                    out.write(" and level ='");
                    out.print(c_level);
                    out.write("'\r\n");
                    out.write("                  ");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f0.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f0 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f0[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f0[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f0.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f0.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f0);
              _jspx_th_sql_005fupdate_005f0_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f0, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f0_reused);
            }
            out.write("\r\n");
            out.write("\t\t\t\t");

					}
									} else if (dh_id != null) {
										hier_id = getLevelRS.getString(6);
										
										String getMax = "select MAX(CAST(level AS SIGNED)) from xx_doc_divisions_hierarchy where hierarchy_id ='"
												+ hier_id + "'";
										MaxPS = conn.prepareStatement(getMax);
										MaxRS = MaxPS.executeQuery();
										int level = 0;
										String slevel = null;
										while (MaxRS.next()) {
											slevel = MaxRS.getString(1);
											
											level = Integer.parseInt(slevel);
										}
										if (c_level < level) {
											int c_level2 = c_level + 1;
											String getHier = "select * from xx_doc_divisions_hierarchy where hierarchy_id ='"
													+ hier_id
													+ "' and level = '"
													+ c_level2 + "'";
											hierPS = conn.prepareStatement(getHier);
											hierRS = hierPS.executeQuery();

											String division = null, dept = null, desg = null;
											while (hierRS.next()) {
												division = hierRS.getString(4);
												dept = hierRS.getString(6);
												desg = hierRS.getString(7);
												
											}
											String getU = "select user_name from xx_user_master where division_id =(select division_id from xx_divisions_map where division_name ='"
													+ division
													+ "') and department_id = (select department_id from xx_departments_master where department_name = '"
													+ dept
													+ "') and Designation_Id = (select designation_id from xx_designation_master where designation_name ='"
													+ desg + "')";
											getUser = (PreparedStatement) conn
													.prepareStatement(getU);
											UserRs = getUser.executeQuery();
											String assign_to = null;
				
            out.write("\r\n");
            out.write("\t\t\t\t");
            if (_jspx_meth_sql_005fupdate_005f1(_jspx_th_c_005fif_005f1, _jspx_page_context))
              return;
            out.write("\t\t\r\n");
            out.write("     \t\tout.println(\"LevelZ9..\"+c_level);\r\n");
            out.write("     \t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f2 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f2_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f2.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f2.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/ApprovalWorkflow.jsp(644,6) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f2.setDataSource("jdbc/MySQLDB");
              // /Admin/ApprovalWorkflow.jsp(644,6) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f2.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f2 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f2 = _jspx_th_sql_005fupdate_005f2.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f2 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f2 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f2[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f2);
                  }
                  do {
                    out.write("\r\n");
                    out.write("       insert into xx_record_actions (Document_id,CurrentDate,ActionPerformed,ActionPerformedBy,Real_ActionDate) Values ('");
                    out.print(doc_id);
                    out.write("',CURDATE(),'approved','");
                    out.print(user);
                    out.write("', now())\r\n");
                    out.write("     ");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f2.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f2 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f2[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f2[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f2.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f2.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f2);
              _jspx_th_sql_005fupdate_005f2_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f2, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f2_reused);
            }
            out.write("\r\n");
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t");

					while (UserRs.next()) {
												assign_to = UserRs.getString(1);
												
											}
											Statement insertStmt = (Statement) conn
													.createStatement();
											String insertStg = "insert into xx_approval_workflow (Document_id,Added_byUser,division_hierarchy_id,Assigned_To,CurrentDate,Action,level) Values ('"
													+ doc_id
													+ "','"
													+ addedBy
													+ "','"
													+ hier_id
													+ "','"
													+ assign_to
													+ "',CURDATE(),'N','"
													+ c_level2
													+ "')";
											insertStmt.executeUpdate(insertStg);
				
            out.write("\r\n");
            out.write("\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f3 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f3_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f3.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f3.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/ApprovalWorkflow.jsp(669,4) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f3.setDataSource("jdbc/MySQLDB");
              // /Admin/ApprovalWorkflow.jsp(669,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f3.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f3 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f3 = _jspx_th_sql_005fupdate_005f3.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f3 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f3 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f3[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f3);
                  }
                  do {
                    out.write("\r\n");
                    out.write("       insert into xx_record_actions (Document_id,CurrentDate,ActionPerformed,ActionPerformedBy,Information,Real_ActionDate) Values (\"+doc_id+\",CURDATE(),'assigned','");
                    out.print(user);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(document_id);
                    out.write("',now())\r\n");
                    out.write("     \r\n");
                    out.write("     ");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f3.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f3 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f3[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f3.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f3[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f3.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f3.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f3);
              _jspx_th_sql_005fupdate_005f3_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f3, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f3_reused);
            }
            out.write("\r\n");
            out.write("\t\t\t\t");

					}
									}

								}
								

								String query = "insert into xx_record_actions (Document_id,CurrentDate,ActionPerformed,ActionPerformedBy,Information,Real_ActionDate) Values ("
										+ doc_id
										+ ",CURDATE(),'assigned','"
										+ user
										+ "','" + remark + "', now())";
								conn.createStatement().executeUpdate(query);
								} catch(Exception e){
	    							
	    							e.printStackTrace();
	    						} finally {
	    							try { getLevelRS.close(); } catch (Exception e) { /* ignored */ }
	    						    try { getUserRS.close(); } catch (Exception e) { /* ignored */ }
	    						    try { MaxRS.close(); } catch (Exception e) { /* ignored */ }
	    						    try { UserRs.close(); } catch (Exception e) { /* ignored */ }
	    						    try { getLevelPS.close(); } catch (Exception e) { /* ignored */ }
	    						    try { getUserPS.close(); } catch (Exception e) { /* ignored */ }
	    						    try { MaxPS.close(); } catch (Exception e) { /* ignored */ }
	    						    try { getUser.close(); } catch (Exception e) { /* ignored */ }
	    						    try { conn.close(); } catch (Exception e) { /* ignored */ }
	    						}
								//conn.close();
				
            out.write("\r\n");
            out.write("\t\t\t\t<div class=\"alert alert-success\" align=\"center\">\r\n");
            out.write("\t\t\t\t\t<strong>Success!</strong> Document has been approved.\r\n");
            out.write("\t\t\t\t</div>\r\n");
            out.write("\t\t\t\t");

					} else if (request.getParameter("Action").equalsIgnoreCase(
									"rejected")) {
								String doc_id = request.getParameter("Doc_Id");
								String c_levels = request.getParameter("C_Level");
								int c_level = Integer.parseInt(c_levels);
								
				
            out.write("\r\n");
            out.write("\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f4 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f4_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f4.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f4.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/ApprovalWorkflow.jsp(713,4) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f4.setDataSource("jdbc/MySQLDB");
              // /Admin/ApprovalWorkflow.jsp(713,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f4.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f4 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f4 = _jspx_th_sql_005fupdate_005f4.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f4 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f4 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f4[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f4);
                  }
                  do {
                    out.write("\r\n");
                    out.write("  update xx_approval_workflow set action ='Y' where document_id =");
                    out.print(doc_id);
                    out.write(" and level ='");
                    out.print(c_level);
                    out.write('\'');
                    out.write('\r');
                    out.write('\n');
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f4.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f4 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f4[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f4.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f4[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f4.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f4.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f4);
              _jspx_th_sql_005fupdate_005f4_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f4, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f4_reused);
            }
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f5 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f5_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f5.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f5.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/ApprovalWorkflow.jsp(717,4) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f5.setDataSource("jdbc/MySQLDB");
              // /Admin/ApprovalWorkflow.jsp(717,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f5.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f5 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f5 = _jspx_th_sql_005fupdate_005f5.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f5 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f5 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f5[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f5);
                  }
                  do {
                    out.write("\r\n");
                    out.write("  insert into xx_record_actions (Document_id,CurrentDate,ActionPerformed,ActionPerformedBy,Real_ActionDate) Values ('");
                    out.print(doc_id);
                    out.write("',CURDATE(),'rejected','");
                    out.print(user);
                    out.write("',now())\r\n");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f5.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f5 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f5[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f5.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f5[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f5.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f5.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f5);
              _jspx_th_sql_005fupdate_005f5_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f5, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f5_reused);
            }
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t");

					} else if (request.getParameter("Action").equalsIgnoreCase(
									"return")) {
								String doc_id = request.getParameter("Doc_Id");
								
								String c_levels = request.getParameter("C_Level");

								int c_level = Integer.parseInt(c_levels);
				
            out.write("\r\n");
            out.write("\r\n");
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f6 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f6_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f6.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f6.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/ApprovalWorkflow.jsp(733,4) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f6.setDataSource("jdbc/MySQLDB");
              // /Admin/ApprovalWorkflow.jsp(733,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f6.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f6 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f6 = _jspx_th_sql_005fupdate_005f6.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f6 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f6 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f6[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f6);
                  }
                  do {
                    out.write("\r\n");
                    out.write("  update xx_approval_workflow set action ='Y' where document_id =");
                    out.print(doc_id);
                    out.write(" and level ='");
                    out.print(c_level);
                    out.write('\'');
                    out.write('\r');
                    out.write('\n');
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f6.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f6 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f6[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f6.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f6[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f6.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f6.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f6);
              _jspx_th_sql_005fupdate_005f6_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f6, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f6_reused);
            }
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f7 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f7_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f7.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f7.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/ApprovalWorkflow.jsp(737,4) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f7.setDataSource("jdbc/MySQLDB");
              // /Admin/ApprovalWorkflow.jsp(737,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f7.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f7 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f7 = _jspx_th_sql_005fupdate_005f7.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f7 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f7 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f7[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f7);
                  }
                  do {
                    out.write("\r\n");
                    out.write("  insert into xx_record_actions (Document_id,CurrentDate,ActionPerformed,ActionPerformedBy,Real_ActionDate) Values ('");
                    out.print(doc_id);
                    out.write("',now(),'return','");
                    out.print(user);
                    out.write("',now())\r\n");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f7.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f7 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f7[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f7.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f7[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f7.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f7.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f7);
              _jspx_th_sql_005fupdate_005f7_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f7, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f7_reused);
            }
            out.write("\r\n");
            out.write("\t\t\t\t");

				Connection conn = null;
				PreparedStatement ps = null;
				ResultSet rs = null;
				try {
					Context initCtx = new InitialContext();
								Context envCtx = (Context) initCtx
										.lookup("java:comp/env");
								DataSource ds = (DataSource) envCtx
										.lookup("jdbc/MySQLDB");
								
								conn = ds.getConnection();
								String sql = "select PM.project,PM.project_Coordinator,PP.package_name,PP.package_director from xx_document_mapping DM,xx_packages_project PP,"
										+ "xx_projectattributes_master PM where DM.Project_ID = PM.Project_ID  and PP.package_id = DM.Package_ID and DM.Document_Map_ID ='"
										+ doc_id + "'";
								ps = conn.prepareStatement(sql);
								rs = ps.executeQuery();
								String project = null, pCoordinator = null, package_name = null, package_director = null;
								while (rs.next()) {
									project = rs.getString(1);
									pCoordinator = rs.getString(2);
									package_name = rs.getString(3);
									package_director = rs.getString(4);
								}
								String doc_no = request.getParameter("Doc_no");
								String RequestedBy = request
										.getParameter("RequestedBy");
				
							//	conn.close();
				
            out.write("\r\n");
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t");
            //  sql:update
            org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f8 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
            boolean _jspx_th_sql_005fupdate_005f8_reused = false;
            try {
              _jspx_th_sql_005fupdate_005f8.setPageContext(_jspx_page_context);
              _jspx_th_sql_005fupdate_005f8.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/ApprovalWorkflow.jsp(772,4) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f8.setDataSource("jdbc/MySQLDB");
              // /Admin/ApprovalWorkflow.jsp(772,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_sql_005fupdate_005f8.setVar("rs");
              int[] _jspx_push_body_count_sql_005fupdate_005f8 = new int[] { 0 };
              try {
                int _jspx_eval_sql_005fupdate_005f8 = _jspx_th_sql_005fupdate_005f8.doStartTag();
                if (_jspx_eval_sql_005fupdate_005f8 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                  if (_jspx_eval_sql_005fupdate_005f8 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    _jspx_push_body_count_sql_005fupdate_005f8[0]++;
                    out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f8);
                  }
                  do {
                    out.write("\r\n");
                    out.write("  insert into xx_moreammendments (Document_id,status,action_performedBy,project,package,projectCoordinator,packageDirector,action_to,document_number) Values ('");
                    out.print(doc_id);
                    out.write("','return','");
                    out.print(user);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(project);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(package_name);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(pCoordinator);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(package_director);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(RequestedBy);
                    out.write('\'');
                    out.write(',');
                    out.write('\'');
                    out.print(doc_no);
                    out.write("')\r\n");
                    int evalDoAfterBody = _jspx_th_sql_005fupdate_005f8.doAfterBody();
                    if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                      break;
                  } while (true);
                  if (_jspx_eval_sql_005fupdate_005f8 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                    out = _jspx_page_context.popBody();
                    _jspx_push_body_count_sql_005fupdate_005f8[0]--;
                  }
                }
                if (_jspx_th_sql_005fupdate_005f8.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                  return;
                }
              } catch (java.lang.Throwable _jspx_exception) {
                while (_jspx_push_body_count_sql_005fupdate_005f8[0]-- > 0)
                  out = _jspx_page_context.popBody();
                _jspx_th_sql_005fupdate_005f8.doCatch(_jspx_exception);
              } finally {
                _jspx_th_sql_005fupdate_005f8.doFinally();
              }
              _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f8);
              _jspx_th_sql_005fupdate_005f8_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f8, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f8_reused);
            }
            out.write("\r\n");
            out.write("\r\n");
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t<div class=\"alert alert-success\" align=\"center\">\r\n");
            out.write("\t\t\t\t\t<strong> Document has been returned for more Information.</strong>\r\n");
            out.write("\t\t\t\t</div>\r\n");
            out.write("\t\t\t\t");

} catch(Exception e){
					
					e.printStackTrace();
				} finally {
					try { rs.close(); } catch (Exception e) { /* ignored */ }
				    try { ps.close(); } catch (Exception e) { /* ignored */ }
				    try { conn.close(); } catch (Exception e) { /* ignored */ }
				}
					}

						}

						if (request.getParameter("Stage").equalsIgnoreCase("forwardto")) {
				
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t");

					String Doc_Id = request.getParameter("Doc_Id");
							String Doc_no = request.getParameter("Doc_no");
							String usern = request.getParameter("usern");
							String RequestedBy = request.getParameter("RequestedBy");
				
            out.write("\r\n");
            out.write("\t\t\t\t");
            //  c:redirect
            org.apache.taglibs.standard.tag.rt.core.RedirectTag _jspx_th_c_005fredirect_005f0 = (org.apache.taglibs.standard.tag.rt.core.RedirectTag) _005fjspx_005ftagPool_005fc_005fredirect_0026_005furl.get(org.apache.taglibs.standard.tag.rt.core.RedirectTag.class);
            boolean _jspx_th_c_005fredirect_005f0_reused = false;
            try {
              _jspx_th_c_005fredirect_005f0.setPageContext(_jspx_page_context);
              _jspx_th_c_005fredirect_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
              // /Admin/ApprovalWorkflow.jsp(803,4) name = url type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
              _jspx_th_c_005fredirect_005f0.setUrl("Forward_MOR.jsp");
              int _jspx_eval_c_005fredirect_005f0 = _jspx_th_c_005fredirect_005f0.doStartTag();
              if (_jspx_eval_c_005fredirect_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
                if (_jspx_eval_c_005fredirect_005f0 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                  out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_c_005fredirect_005f0);
                }
                do {
                  out.write("\r\n");
                  out.write("\t\t\t\t\t");
                  //  c:param
                  org.apache.taglibs.standard.tag.rt.core.ParamTag _jspx_th_c_005fparam_005f0 = (org.apache.taglibs.standard.tag.rt.core.ParamTag) _005fjspx_005ftagPool_005fc_005fparam_0026_005fvalue_005fname_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.ParamTag.class);
                  boolean _jspx_th_c_005fparam_005f0_reused = false;
                  try {
                    _jspx_th_c_005fparam_005f0.setPageContext(_jspx_page_context);
                    _jspx_th_c_005fparam_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fredirect_005f0);
                    // /Admin/ApprovalWorkflow.jsp(804,5) name = name type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
                    _jspx_th_c_005fparam_005f0.setName("usern");
                    // /Admin/ApprovalWorkflow.jsp(804,5) name = value type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
                    _jspx_th_c_005fparam_005f0.setValue(usern);
                    int _jspx_eval_c_005fparam_005f0 = _jspx_th_c_005fparam_005f0.doStartTag();
                    if (_jspx_th_c_005fparam_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                      return;
                    }
                    _005fjspx_005ftagPool_005fc_005fparam_0026_005fvalue_005fname_005fnobody.reuse(_jspx_th_c_005fparam_005f0);
                    _jspx_th_c_005fparam_005f0_reused = true;
                  } finally {
                    org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fparam_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fparam_005f0_reused);
                  }
                  out.write("\r\n");
                  out.write("\t\t\t\t\t");
                  //  c:param
                  org.apache.taglibs.standard.tag.rt.core.ParamTag _jspx_th_c_005fparam_005f1 = (org.apache.taglibs.standard.tag.rt.core.ParamTag) _005fjspx_005ftagPool_005fc_005fparam_0026_005fvalue_005fname_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.ParamTag.class);
                  boolean _jspx_th_c_005fparam_005f1_reused = false;
                  try {
                    _jspx_th_c_005fparam_005f1.setPageContext(_jspx_page_context);
                    _jspx_th_c_005fparam_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fredirect_005f0);
                    // /Admin/ApprovalWorkflow.jsp(805,5) name = name type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
                    _jspx_th_c_005fparam_005f1.setName("Doc_Id");
                    // /Admin/ApprovalWorkflow.jsp(805,5) name = value type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
                    _jspx_th_c_005fparam_005f1.setValue(Doc_Id);
                    int _jspx_eval_c_005fparam_005f1 = _jspx_th_c_005fparam_005f1.doStartTag();
                    if (_jspx_th_c_005fparam_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                      return;
                    }
                    _005fjspx_005ftagPool_005fc_005fparam_0026_005fvalue_005fname_005fnobody.reuse(_jspx_th_c_005fparam_005f1);
                    _jspx_th_c_005fparam_005f1_reused = true;
                  } finally {
                    org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fparam_005f1, _jsp_getInstanceManager(), _jspx_th_c_005fparam_005f1_reused);
                  }
                  out.write("\r\n");
                  out.write("\t\t\t\t\t");
                  //  c:param
                  org.apache.taglibs.standard.tag.rt.core.ParamTag _jspx_th_c_005fparam_005f2 = (org.apache.taglibs.standard.tag.rt.core.ParamTag) _005fjspx_005ftagPool_005fc_005fparam_0026_005fvalue_005fname_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.ParamTag.class);
                  boolean _jspx_th_c_005fparam_005f2_reused = false;
                  try {
                    _jspx_th_c_005fparam_005f2.setPageContext(_jspx_page_context);
                    _jspx_th_c_005fparam_005f2.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fredirect_005f0);
                    // /Admin/ApprovalWorkflow.jsp(806,5) name = name type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
                    _jspx_th_c_005fparam_005f2.setName("Doc_no");
                    // /Admin/ApprovalWorkflow.jsp(806,5) name = value type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
                    _jspx_th_c_005fparam_005f2.setValue(Doc_no);
                    int _jspx_eval_c_005fparam_005f2 = _jspx_th_c_005fparam_005f2.doStartTag();
                    if (_jspx_th_c_005fparam_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                      return;
                    }
                    _005fjspx_005ftagPool_005fc_005fparam_0026_005fvalue_005fname_005fnobody.reuse(_jspx_th_c_005fparam_005f2);
                    _jspx_th_c_005fparam_005f2_reused = true;
                  } finally {
                    org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fparam_005f2, _jsp_getInstanceManager(), _jspx_th_c_005fparam_005f2_reused);
                  }
                  out.write("\r\n");
                  out.write("\t\t\t\t\t");
                  //  c:param
                  org.apache.taglibs.standard.tag.rt.core.ParamTag _jspx_th_c_005fparam_005f3 = (org.apache.taglibs.standard.tag.rt.core.ParamTag) _005fjspx_005ftagPool_005fc_005fparam_0026_005fvalue_005fname_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.ParamTag.class);
                  boolean _jspx_th_c_005fparam_005f3_reused = false;
                  try {
                    _jspx_th_c_005fparam_005f3.setPageContext(_jspx_page_context);
                    _jspx_th_c_005fparam_005f3.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fredirect_005f0);
                    // /Admin/ApprovalWorkflow.jsp(807,5) name = name type = null reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
                    _jspx_th_c_005fparam_005f3.setName("RequestedBy");
                    // /Admin/ApprovalWorkflow.jsp(807,5) name = value type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
                    _jspx_th_c_005fparam_005f3.setValue(RequestedBy);
                    int _jspx_eval_c_005fparam_005f3 = _jspx_th_c_005fparam_005f3.doStartTag();
                    if (_jspx_th_c_005fparam_005f3.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                      return;
                    }
                    _005fjspx_005ftagPool_005fc_005fparam_0026_005fvalue_005fname_005fnobody.reuse(_jspx_th_c_005fparam_005f3);
                    _jspx_th_c_005fparam_005f3_reused = true;
                  } finally {
                    org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fparam_005f3, _jsp_getInstanceManager(), _jspx_th_c_005fparam_005f3_reused);
                  }
                  out.write("\r\n");
                  out.write("\t\t\t\t");
                  int evalDoAfterBody = _jspx_th_c_005fredirect_005f0.doAfterBody();
                  if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
                    break;
                } while (true);
                if (_jspx_eval_c_005fredirect_005f0 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
                  out = _jspx_page_context.popBody();
                }
              }
              if (_jspx_th_c_005fredirect_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
                return;
              }
              _005fjspx_005ftagPool_005fc_005fredirect_0026_005furl.reuse(_jspx_th_c_005fredirect_005f0);
              _jspx_th_c_005fredirect_005f0_reused = true;
            } finally {
              org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fredirect_005f0, _jsp_getInstanceManager(), _jspx_th_c_005fredirect_005f0_reused);
            }
            out.write("\r\n");
            out.write("\r\n");
            out.write("\t\t\t\t");

					}
				
            out.write("\r\n");
            out.write("\t\t\t");
            int evalDoAfterBody = _jspx_th_c_005fif_005f1.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
        }
        if (_jspx_th_c_005fif_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return;
        }
        _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f1);
        _jspx_th_c_005fif_005f1_reused = true;
      } finally {
        org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_c_005fif_005f1, _jsp_getInstanceManager(), _jspx_th_c_005fif_005f1_reused);
      }
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t\t</form>\r\n");
      out.write("\t</div>\r\n");
      out.write("</body>\r\n");
      out.write("<br><br><br><br><br><br><br><br><br><br>\t      \r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\">\r\n");
      out.write("<link rel=\"stylesheet\" href=\"/Application/Admin/resources/bootstrap-3.3.7-dist/css1/bootstrap.css\"/>\r\n");
      out.write(" \r\n");
      out.write("\r\n");
      out.write("<title>Insert title here</title>\r\n");
      out.write("<style>\r\n");
      out.write("@import url('http://fonts.googleapis.com/css?family=Open+Sans:400,700');\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write(".footer-basic-centered{\r\n");
      out.write("\tposition: fixed;\r\n");
      out.write("\tleft:0px;\r\n");
      out.write("   \r\n");
      out.write("\tmargin-top:0px;\r\n");
      out.write("\tbottom: 0;\r\n");
      out.write("}\r\n");
      out.write("html {\r\n");
      out.write("  position: relative;\r\n");
      out.write("  min-height: 100%;\r\n");
      out.write("}\r\n");
      out.write("@media (max-height:800px){\r\n");
      out.write("\tfooter { position: static; }\r\n");
      out.write("\theader { padding-top:0px; }\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".footer-basic-centered{\r\n");
      out.write("\tbackground-color:#8C001A; //#003399;\r\n");
      out.write("\tbox-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.12);\r\n");
      out.write("\tbox-sizing: border-box;\r\n");
      out.write("\twidth: 100%;\r\n");
      out.write("\ttext-align: center;\r\n");
      out.write("\tfont: normal 18px sans-serif;\r\n");
      out.write("\theight:30px;\r\n");
      out.write("\tpadding: 10px;\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".footer-basic-centered .footer-company-motto{\r\n");
      out.write("\tcolor:  #fff;\r\n");
      out.write("\tfont-size: 14px;\r\n");
      out.write("\tmargin: 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".footer-basic-centered .footer-company-name{\r\n");
      out.write("\tcolor:  #fff;\r\n");
      out.write("\tfont-size: 14px;\r\n");
      out.write("\tmargin: 0;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("/* If you don't want the footer to be responsive, remove these media queries */\r\n");
      out.write("\r\n");
      out.write("@media (max-width: 600px) {\r\n");
      out.write("\r\n");
      out.write("\t.footer-basic-centered{\r\n");
      out.write("\t\tpadding: 10px;\r\n");
      out.write("\t\theight:30px;\r\n");
      out.write("\t\t//bottom:0;\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t.footer-basic-centered .footer-company-motto{\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tfloat:right;\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t.footer-basic-centered .footer-company-name{\r\n");
      out.write("\t\tfont-size: 14px;\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("</style>\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!-- \r\n");
      out.write("<footer>\r\n");
      out.write("<div class=\"city\">\r\n");
      out.write("  <ul class=\" nav navbar-nav\">\r\n");
      out.write("  \r\n");
      out.write("    <li class=\"footerli\">Rail Vikas Nigam Limited.</li>\r\n");
      out.write("    </ul>\r\n");
      out.write("    <ul   class=\"nav navabar-nav\" style=\"float:right;\">\r\n");
      out.write("   <li class=\"footerli\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Design & Developed By<a href=\"http://www.awcsoftware.net\" style=\"text-decoration:none;\">AWC SOFTWARE PVT LTD</a></li>\r\n");
      out.write("    \r\n");
      out.write("  </ul>\r\n");
      out.write(" </div>\r\n");
      out.write("\r\n");
      out.write("</footer> -->\r\n");
      out.write("\r\n");
      out.write("<footer class=\"footer-basic-centered\">\r\n");
      out.write("\r\n");
      out.write("\t\t\t<p class=\"footer-company-motto\" style=\"float:left;\">Rail Vikas Nigam Limited</p>\r\n");
      out.write("            <p class=\"footer-company-motto\" style=\"float:right; font-family:serif; font-size:14px; font-style:italic; margin-top:0px;\">Ver:2.30.pks</p> \r\n");
      out.write("\t\t\t\r\n");
      out.write("\r\n");
      out.write("\t\t</footer>\r\n");
      out.write("</body>\r\n");
      out.write("</html>\r\n");
      out.write("\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_sql_005fupdate_005f1(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fif_005f1, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  sql:update
    org.apache.taglibs.standard.tag.rt.sql.UpdateTag _jspx_th_sql_005fupdate_005f1 = (org.apache.taglibs.standard.tag.rt.sql.UpdateTag) _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.get(org.apache.taglibs.standard.tag.rt.sql.UpdateTag.class);
    boolean _jspx_th_sql_005fupdate_005f1_reused = false;
    try {
      _jspx_th_sql_005fupdate_005f1.setPageContext(_jspx_page_context);
      _jspx_th_sql_005fupdate_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fif_005f1);
      // /Admin/ApprovalWorkflow.jsp(640,4) name = dataSource type = null reqTime = true required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sql_005fupdate_005f1.setDataSource("jdbc/MySQLDB");
      // /Admin/ApprovalWorkflow.jsp(640,4) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
      _jspx_th_sql_005fupdate_005f1.setVar("rs");
      int[] _jspx_push_body_count_sql_005fupdate_005f1 = new int[] { 0 };
      try {
        int _jspx_eval_sql_005fupdate_005f1 = _jspx_th_sql_005fupdate_005f1.doStartTag();
        if (_jspx_eval_sql_005fupdate_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
          if (_jspx_eval_sql_005fupdate_005f1 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
            _jspx_push_body_count_sql_005fupdate_005f1[0]++;
            out = org.apache.jasper.runtime.JspRuntimeLibrary.startBufferedBody(_jspx_page_context, _jspx_th_sql_005fupdate_005f1);
          }
          do {
            out.write("\r\n");
            out.write("       update xx_approval_workflow set action ='Y' where document_id =\"doc_id+\" and level ='\"+c_level+\"'\r\n");
            out.write("     ");
            int evalDoAfterBody = _jspx_th_sql_005fupdate_005f1.doAfterBody();
            if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
              break;
          } while (true);
          if (_jspx_eval_sql_005fupdate_005f1 != javax.servlet.jsp.tagext.Tag.EVAL_BODY_INCLUDE) {
            out = _jspx_page_context.popBody();
            _jspx_push_body_count_sql_005fupdate_005f1[0]--;
          }
        }
        if (_jspx_th_sql_005fupdate_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
          return true;
        }
      } catch (java.lang.Throwable _jspx_exception) {
        while (_jspx_push_body_count_sql_005fupdate_005f1[0]-- > 0)
          out = _jspx_page_context.popBody();
        _jspx_th_sql_005fupdate_005f1.doCatch(_jspx_exception);
      } finally {
        _jspx_th_sql_005fupdate_005f1.doFinally();
      }
      _005fjspx_005ftagPool_005fsql_005fupdate_0026_005fvar_005fdataSource.reuse(_jspx_th_sql_005fupdate_005f1);
      _jspx_th_sql_005fupdate_005f1_reused = true;
    } finally {
      org.apache.jasper.runtime.JspRuntimeLibrary.releaseTag(_jspx_th_sql_005fupdate_005f1, _jsp_getInstanceManager(), _jspx_th_sql_005fupdate_005f1_reused);
    }
    return false;
  }
}
